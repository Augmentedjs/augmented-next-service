!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("augmented-next-service",[],e):"object"==typeof exports?exports["augmented-next-service"]=e():t["augmented-next-service"]=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=33)}([function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){!function(e,r){t.exports=r()}(0,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=34)}([function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=0,i=e.length;for(n=1;n<i;n++){var o=void 0;for(o in e[n])e[n].hasOwnProperty(o)&&(e[0][o]=e[n][o])}return e[0]};e.default=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0,i=function(t){return"{$prefix}"+ ++n};e.default=i},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=arguments,u=r(3),s=function(t){return t&&t.__esModule?t:{default:t}}(u),c=r(39),l=function(t,e){var r=void 0,n=void 0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return n=Number.parseInt(t),function(){return--n>0&&(r=e.apply(void 0,a)),n<=1&&(e=void 0),r}},f=function(t){return l(2,t)},h=/\s+/,d=function t(e,r,n,i,a){var u=0,s=void 0;if(n&&"object"===(void 0===n?"undefined":o(n))){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(s=Object.keys(n);u<s.length;u++)r=t(e,r,s[u],n[s[u]],a)}else if(n&&h.test(n))for(s=n.split(h);u<s.length;u++)r=e(r,s[u],i,a);else r=e(r,n,i,a);return r},p=function(t,e,r,n,i){return t._events=d(y,t._events||{},e,r,{context:n,ctx:t,listening:i}),i&&((t._listeners||(t._listeners={}))[i.id]=i),t},y=function(t,e,r,n){if(r){var i=t[e]||(t[e]=[]),o=n.context,a=n.ctx,u=n.listening;u&&u.count++,i.push({callback:r,context:o,ctx:o||a,listening:u})}return t},v=function(t,e,r,n){if(t){var i=0,o=void 0,a=n.context,u=n.listeners;if(e||r||a){for(var s=e?[e]:Object.keys(t);i<s.length;i++){e=s[i];var c=t[e];if(!c)break;var l=[],f=0;for(f=0;f<c.length;f++){var h=c[f];r&&r!==h.callback&&r!==h.callback._callback||a&&a!==h.context?l.push(h):(o=h.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}l.length?t[e]=l:delete t[e]}return t}for(var d=Object.keys(u);i<d.length;i++)o=u[d[i]],delete u[o.id],delete o.listeningTo[o.objId]}},g=function(t,e,r,n){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&_(i,n),o&&_(o,[e].concat(n))}return t},_=function(t,e){var r=void 0,n=-1,i=t.length,o=e[0],a=e[1],u=e[2];switch(e.length){case 0:for(;++n<i;)(r=t[n]).callback.call(r.ctx);return;case 1:for(;++n<i;)(r=t[n]).callback.call(r.ctx,o);return;case 2:for(;++n<i;)(r=t[n]).callback.call(r.ctx,o,a);return;case 3:for(;++n<i;)(r=t[n]).callback.call(r.ctx,o,a,u);return;default:for(;++n<i;)(r=t[n]).callback.apply(r.ctx,e);return}},b=function(){function t(e){n(this,t),this.options||(this._options={}),e&&Object.assign(this._options,e),this._events={},this._listeningTo={},this._listenId={},this._listeners={}}return i(t,[{key:"initialize",value:function(){return this}},{key:"trigger",value:function(t){if(this._events){var e=Math.max(0,(arguments.length<=1?0:arguments.length-1)-1),r=Array(e),n=0;for(n=0;n<e;n++)r[n]=arguments.length<=n+1+1?void 0:arguments[n+1+1];d(g,this._events,t,void 0,r)}return this}},{key:"once",value:function(t,e,r){var n=d(this._onceMap,{},t,e,c(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(n,e,r)}},{key:"off",value:function(t,e,r){return this._events&&(this._events=d(v,this._events,t,e,{context:r,listeners:this._listeners})),this}},{key:"stopListening",value:function(t,e,r){var n=this._listeningTo;if(n){var i=t?[t._listenId]:Object.keys(n),o=0;for(o=0;o<i.length;o++){var a=n[i[o]];if(!a)break;a.obj.off(e,r,this)}}return this}},{key:"on",value:function(t,e,r){return p(this,t,e,r)}},{key:"listenTo",value:function(t,e,r){if(t){var n=t._listenId||(t._listenId=(0,s.default)("l")),i=this._listeningTo||(this._listeningTo={}),o=i[n];if(!o){var a=this._listenId||(this._listenId=(0,s.default)("l"));o=i[n]={obj:t,objId:n,id:a,listeningTo:i,count:0}}p(t,e,r,this,o)}return this}},{key:"listenToOnce",value:function(t,e,r){var n=d(this._onceMap,{},e,r,c(this.stopListening,this,t));return this.listenTo(t,n)}},{key:"_onceMap",value:function(t,e,r,n){var i=this,o=arguments;if(r){var a=t[e]=f(function(){n(e,a),r.apply(i,o)});a._callback=r}return t}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"events",get:function(){return this._events}}]),t}();e.default=b},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return"[object Function]"==Object.prototype.toString.call(t)};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){var e=void 0===t?"undefined":n(t);return"function"===e||"object"===e&&!!t};e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){return"string"==typeof t||!!t&&"object"===(void 0===t?"undefined":n(t))&&"[object String]"===Object.prototype.toString.call(t)};e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.OAUTH2=Symbol("oauth2"),n.ACL=Symbol("acl"),e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return t.sort(function(t,r){var n=t[e],i=r[e];return n<i?-1:n>i?1:0})};e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(15),u=n(a),s=r(37),c=n(s),l=r(11),f=function(){function t(){i(this,t),this._myValidator=(0,c.default)(),this._myValidator&&this._myValidator.addLanguage("en-us",l.ERROR_MESSAGES_DEFAULT)}return o(t,[{key:"supportsValidation",value:function(){return null!==this._myValidator}},{key:"registerSchema",value:function(t,e){return this._myValidator.addSchema(t,e)}},{key:"getSchema",value:function(t){return this._myValidator.getSchema(t)}},{key:"getSchemas",value:function(){return this._myValidator.getSchemaMap()}},{key:"clearSchemas",value:function(){this._myValidator.dropSchemas()}},{key:"validate",value:function(t,e){return this._myValidator.validateMultiple(t,e)}},{key:"getValidationMessages",value:function(){return this._myValidator.error}},{key:"generateSchema",value:function(t){var e=t;return(0,u.default)(e)}}]),t}();e.default=f},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},a={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"},u=function(){function t(e,r,i,o,a,u){if(n(this,t),void 0===e)throw new Error("No code supplied for error: "+r);this.message=r,this.params=i,this.code=e,this.dataPath=o||"",this.schemaPath=a||"",this.subErrors=u||null;var s=new Error(this.message);if(this.stack=s.stack||s.stacktrace,!this.stack)try{throw s}catch(t){this.stack=t.stack||t.stacktrace}this.name="ValidationError"}return i(t,[{key:"prefixWith",value:function(t,e){if(null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+t+this.dataPath),null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+e+this.schemaPath),null!==this.subErrors){var r=0,n=this.subErrors.length;for(r=0;r<n;r++)this.subErrors[r].prefixWith(t,e)}return this}}]),t}(),s={},c=void 0;for(c in o)s[o[c]]=c;e.ERROR_CODES=o,e.ERROR_MESSAGES_DEFAULT=a,e.ValidationError=u,e.ErrorCodeLookup=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={LoggerLevel:"info",MessageBundle:"Messages",AsynchronousQueueTimeout:2e3,ApplicationInitProcessTimeout:1e3};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,r){return void 0===e?t:r?""+t+e:""+e+t};e.default=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(4),l=n(c),f=r(1),h=n(f),d=r(3),p=n(d),y=r(10),v=n(y),g=r(17),_=r(47),b=r(44),m=r(43),w=r(45),O=r(40),E=r(46),k=r(41),S=r(42),j=function(t,e){if(t){var r=e.error;e.error=function(n){r&&r.call(e.context,t,n,e),t.trigger("error",t,n,e)}}},R=function(t){function e(t,r){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.schema=null,n.validationMessages={valid:!0},n.id=0,n.idAttribute="id",n.cidPrefix="c",n.defaults={},n.validationError=null,n.urlRoot="",n._pending=!1,n._changing=!1,n._previousAttributes=null,n._attributes=t||{},r||(r={});for(var a=arguments.length,u=Array(a>2?a-2:0),s=2;s<a;s++)u[s-2]=arguments[s];n.preinitialize(u),n.cid=(0,p.default)(n.cidPrefix),r.collection&&(n.collection=r.collection);var c=void 0;return r.parse&&(c=n.parse(c,r)||{}),n.defaults=_(n,"defaults"),c=O((0,h.default)({},n.defaults,c),n.defaults),n.set(c,r),n.changed={},n.initialize(u),n}return a(e,t),s(e,[{key:"preinitialize",value:function(){}},{key:"initialize",value:function(){}},{key:"get",value:function(t){return this._attributes[t]}},{key:"set",value:function(t,e,r){if(null===t)return this;var n=void 0;if("object"===(void 0===t?"undefined":u(t))?(n=t,r=e):(n={})[t]=e,r||(r={}),!this._validate(n,r))return!1;var i=r.unset,o=r.silent,a=[],s=this._changing;this._changing=!0,s||(this._previousAttributes=g(this._attributes),this.changed={});var c=this._attributes,l=this.changed,f=this._previousAttributes,h=void 0;for(h in n)e=n[h],w(c[h],e)||a.push(h),w(f[h],e)?delete l[h]:l[h]=e,i?delete c[h]:c[h]=e;if(this.idAttribute in n&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=r);var d=0;for(d=0;d<a.length;d++)this.trigger("change:"+a[d],this,c[a[d]],r)}if(s)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this}},{key:"escape",value:function(t){return S(this.get(attr))}},{key:"has",value:function(t){return null!==this.get(attr)}},{key:"matches",value:function(t){return!!E(t,this)(this._attributes)}},{key:"unset",value:function(t,e){return this.set(t,void 0,(0,h.default)({},e,{unset:!0}))}},{key:"clear",value:function(t){var e={};for(var r in this._attributes)e[r]=void 0;return this.set(e,(0,h.default)({},t,{unset:!0}))}},{key:"toJSON",value:function(){return g(this._attributes)}},{key:"fetch",value:function(t){t=(0,h.default)({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},j(this,t),this.sync("read",this,t)}},{key:"save",value:function(t,e,r){var n=void 0;null==t||"object"===(void 0===t?"undefined":u(t))?(n=t,r=e):(n={})[t]=e,r=(0,h.default)({validate:!0,parse:!0},r);var i=r.wait;if(n&&!i){if(!this.set(n,r))return!1}else if(!this._validate(n,r))return!1;var o=this,a=r.success,s=this._attributes;r.success=function(t){o.attributes=s;var e=r.parse?o.parse(t,r):t;if(i&&(e=(0,h.default)({},n,e)),e&&!o.set(e,r))return!1;a&&a.call(r.context,o,t,r),o.trigger("sync",o,t,r)},j(this,r),n&&i&&(this._attributes=(0,h.default)({},s,n));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=n);var l=this.sync(c,this,r);return this._attributes=s,l}},{key:"destroy",value:function(t){t=t?g(t):{};var e=this,r=t.success,n=t.wait,i=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(o){n&&i(),r&&r.call(t.context,e,o,t),e.isNew()||e.trigger("sync",e,o,t)};var o=!1;return this.isNew()?k(t.success):(j(this,t),o=this.sync("delete",this,t)),n||i(),o}},{key:"url",value:function(){var t=_(this,"urlRoot")||_(this.collection,"url")||urlError();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)}},{key:"keys",value:function(){}},{key:"values",value:function(){}},{key:"pairs",value:function(){}},{key:"invert",value:function(){}},{key:"pick",value:function(){}},{key:"omit",value:function(){}},{key:"chain",value:function(){}},{key:"isEmpty",value:function(){return!1}},{key:"parse",value:function(t,e){return t}},{key:"clone",value:function(){return new this.constructor(this._attributes)}},{key:"isNew",value:function(){return!this.has(this.idAttribute)}},{key:"isValid",value:function(t){return this._validate({},(0,h.default)({},t,{validate:!0}))}},{key:"hasChanged",value:function(t){return null==t?!b(this.changed):m(this.changed,t)}},{key:"changedAttributes",value:function(t){if(!t)return!!this.hasChanged()&&g(this.changed);var e=this._changing?this._previousAttributes:this._attributes,r={},n=void 0;for(var i in t){var o=t[i];w(e[i],o)||(r[i]=o,n=!0)}return!!n&&r}},{key:"previous",value:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null}},{key:"previousAttributes",value:function(){return g(this._previousAttributes)}},{key:"_validate",value:function(t,e){if(!e.validate||!this.validate)return!0;t=(0,h.default)({},this._attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,(0,h.default)(e,{validationError:r})),!1)}},{key:"supportsValidation",value:function(){return null!==this.schema}},{key:"isValid",value:function(){return this.validate(),this.validationMessages.valid}},{key:"validate",value:function(){var t=new v.default;return this.supportsValidation()&&t.supportsValidation()?this.validationMessages=t.validate(this.toJSON(),this.schema):this.validationMessages.valid=!0,this.validationMessages}},{key:"getValidationMessages",value:function(){var t=[];if(this.validationMessages&&this.validationMessages.errors){var e=this.validationMessages.errors.length,r=0;for(r=0;r<e;r++)t.push(this.validationMessages.errors[r].message+" from "+this.validationMessages.errors[r].dataPath)}return t}},{key:"sync",value:function(t,e,r){}},{key:"reset",value:function(t){this.clear(),t&&this.set(t)}},{key:"isEmpty",value:function(){return!this._attributes||0===Object.keys(this._attributes).length}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"fetch",value:function(t){this.sync("read",this,t)}},{key:"save",value:function(t){this.sync("create",this,t)}},{key:"update",value:function(t){this.sync("update",this,t)}},{key:"destroy",value:function(t){this.sync("delete",this,t)}}]),e}(l.default);e.default=R},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={$schema:"http://json-schema.org/draft-04/schema#",title:"model",description:"Generated Schema",type:"object",properties:{}},o=function(t){var e=i,r=void 0,o=void 0,a=void 0,u=void 0,s=Object.keys(t),c=s.length;for(r=0;r<c;r++){o=s[r];for(a in o)if(o.hasOwnProperty(a)){u=e.properties[o]={};var l=n(t[o]);"object"===l?l=Array.isArray(t[o])?"array":"object":"number"===l&&(l=Number.isInteger(t[o])?"integer":"number"),u.type=l,u.description=String(o)}}return e};e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=(e.URI_TEMPLATE_GLOBAL_MODIFIERS={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},e.URI_TEMPLATE_SUFFICES={"*":!0},e.parseURI=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return e?{href:e[0]||"",protocol:e[1]||"",authority:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[5]||"",pathname:e[6]||"",search:e[7]||"",hash:e[8]||""}:null}),o=e.removeDotSegments=function(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")},a=e.resolveUrl=function(t,e){return e=i(e||""),t=i(t||""),e&&t?(e.protocol||t.protocol)+(e.protocol||e.authority?e.authority:t.authority)+o(e.protocol||e.authority||"/"===e.pathname.charAt(0)?e.pathname:e.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:t.pathname)+(e.protocol||e.authority||e.pathname?e.search:e.search||t.search)+e.hash:null};e.getDocumentUri=function(t){return t.split("#")[0]},e.isTrustedUrl=function(t,e){if(e.substring(0,t.length)===t){var r=e.substring(t.length);if(e.length>0&&"/"===e.charAt(t.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1},e.normSchema=function t(e,r){if(e&&"object"===(void 0===e?"undefined":n(e)))if(void 0===r?r=e.id:"string"==typeof e.id&&(r=a(r,e.id),e.id=r),Array.isArray(e)){var i=0,o=e.length;for(i=0;i<o;i++)t(e[i],r)}else{"string"==typeof e.$ref&&(e.$ref=a(r,e.$ref));for(var u in e)"enum"!==u&&t(e[u],r)}}},function(t,e,r){(function(t,r){function n(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););return t}function a(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function u(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function s(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function c(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function f(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function h(t,e){return function(r){return t(e(r))}}function d(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function p(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function y(){this.__data__=Ue?Ue(null):{}}function v(t){return this.has(t)&&delete this.__data__[t]}function g(t){var e=this.__data__;if(Ue){var r=e[t];return r===Pt?void 0:r}return ge.call(e,t)?e[t]:void 0}function _(t){var e=this.__data__;return Ue?void 0!==e[t]:ge.call(e,t)}function b(t,e){return this.__data__[t]=Ue&&void 0===e?Pt:e,this}function m(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function w(){this.__data__=[]}function O(t){var e=this.__data__,r=F(e,t);return!(r<0||(r==e.length-1?e.pop():je.call(e,r,1),0))}function E(t){var e=this.__data__,r=F(e,t);return r<0?void 0:e[r][1]}function k(t){return F(this.__data__,t)>-1}function S(t,e){var r=this.__data__,n=F(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function j(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function R(){this.__data__={hash:new p,map:new(Te||m),string:new p}}function A(t){return at(this,t).delete(t)}function P(t){return at(this,t).get(t)}function M(t){return at(this,t).has(t)}function T(t,e){return at(this,t).set(t,e),this}function x(t){this.__data__=new m(t)}function C(){this.__data__=new m}function I(t){return this.__data__.delete(t)}function U(t){return this.__data__.get(t)}function N(t){return this.__data__.has(t)}function L(t,e){var r=this.__data__;if(r instanceof m){var n=r.__data__;if(!Te||n.length<At-1)return n.push([t,e]),this;r=this.__data__=new j(n)}return r.set(t,e),this}function D(t,e){var r=Ge(t)||_t(t)?s(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!ge.call(t,o)||i&&("length"==o||ft(o,n))||r.push(o);return r}function B(t,e,r){var n=t[e];ge.call(t,e)&&gt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function F(t,e){for(var r=t.length;r--;)if(gt(t[r][0],e))return r;return-1}function q(t,e){return t&&nt(e,St(e),t)}function $(t,e,r,n,i,a,u){var s;if(n&&(s=a?n(t,i,a,u):n(t)),void 0!==s)return s;if(!Et(t))return t;var c=Ge(t);if(c){if(s=st(t),!e)return rt(t,s)}else{var f=Ye(t),h=f==It||f==Ut;if(We(t))return H(t,e);if(f==Dt||f==Tt||h&&!a){if(l(t))return a?t:{};if(s=ct(h?{}:t),!e)return it(t,q(s,t))}else{if(!ie[f])return a?t:{};s=lt(t,f,$,e)}}u||(u=new x);var d=u.get(t);if(d)return d;if(u.set(t,s),!c)var p=r?ot(t):St(t);return o(p||t,function(i,o){p&&(o=i,i=t[o]),B(s,o,$(i,e,r,n,o,t,u))}),s}function z(t){return Et(t)?ke(t):{}}function Y(t,e,r){var n=e(t);return Ge(t)?n:a(n,r(t))}function G(t){return _e.call(t)}function W(t){return!(!Et(t)||dt(t))&&(wt(t)||l(t)?be:re).test(yt(t))}function V(t){if(!pt(t))return Pe(t);var e=[];for(var r in Object(t))ge.call(t,r)&&"constructor"!=r&&e.push(r);return e}function H(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function K(t){var e=new t.constructor(t.byteLength);return new Oe(e).set(new Oe(t)),e}function J(t,e){var r=e?K(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function X(t,e,r){return u(e?r(f(t),!0):f(t),n,new t.constructor)}function Q(t){var e=new t.constructor(t.source,ee.exec(t));return e.lastIndex=t.lastIndex,e}function Z(t,e,r){return u(e?r(d(t),!0):d(t),i,new t.constructor)}function tt(t){return $e?Object($e.call(t)):{}}function et(t,e){var r=e?K(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function rt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function nt(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],u=n?n(r[a],t[a],a,r,t):void 0;B(r,a,void 0===u?t[a]:u)}return r}function it(t,e){return nt(t,ze(t),e)}function ot(t){return Y(t,St,ze)}function at(t,e){var r=t.__data__;return ht(e)?r["string"==typeof e?"string":"hash"]:r.map}function ut(t,e){var r=c(t,e);return W(r)?r:void 0}function st(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&ge.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function ct(t){return"function"!=typeof t.constructor||pt(t)?{}:z(Ee(t))}function lt(t,e,r,n){var i=t.constructor;switch(e){case zt:return K(t);case xt:case Ct:return new i(+t);case Yt:return J(t,n);case Gt:case Wt:case Vt:case Ht:case Kt:case Jt:case Xt:case Qt:case Zt:return et(t,n);case Nt:return X(t,n,r);case Lt:case qt:return new i(t);case Bt:return Q(t);case Ft:return Z(t,n,r);case $t:return tt(t)}}function ft(t,e){return!!(e=null==e?Mt:e)&&("number"==typeof t||ne.test(t))&&t>-1&&t%1==0&&t<e}function ht(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function dt(t){return!!ye&&ye in t}function pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||de)}function yt(t){if(null!=t){try{return ve.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vt(t){return $(t,!1,!0)}function gt(t,e){return t===e||t!==t&&e!==e}function _t(t){return mt(t)&&ge.call(t,"callee")&&(!Se.call(t,"callee")||_e.call(t)==Tt)}function bt(t){return null!=t&&Ot(t.length)&&!wt(t)}function mt(t){return kt(t)&&bt(t)}function wt(t){var e=Et(t)?_e.call(t):"";return e==It||e==Ut}function Ot(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Mt}function Et(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function kt(t){return!!t&&"object"==typeof t}function St(t){return bt(t)?D(t):V(t)}function jt(){return[]}function Rt(){return!1}var At=200,Pt="__lodash_hash_undefined__",Mt=9007199254740991,Tt="[object Arguments]",xt="[object Boolean]",Ct="[object Date]",It="[object Function]",Ut="[object GeneratorFunction]",Nt="[object Map]",Lt="[object Number]",Dt="[object Object]",Bt="[object RegExp]",Ft="[object Set]",qt="[object String]",$t="[object Symbol]",zt="[object ArrayBuffer]",Yt="[object DataView]",Gt="[object Float32Array]",Wt="[object Float64Array]",Vt="[object Int8Array]",Ht="[object Int16Array]",Kt="[object Int32Array]",Jt="[object Uint8Array]",Xt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",Zt="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,ee=/\w*$/,re=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,ie={};ie[Tt]=ie["[object Array]"]=ie[zt]=ie[Yt]=ie[xt]=ie[Ct]=ie[Gt]=ie[Wt]=ie[Vt]=ie[Ht]=ie[Kt]=ie[Nt]=ie[Lt]=ie[Dt]=ie[Bt]=ie[Ft]=ie[qt]=ie[$t]=ie[Jt]=ie[Xt]=ie[Qt]=ie[Zt]=!0,ie["[object Error]"]=ie[It]=ie["[object WeakMap]"]=!1;var oe="object"==typeof t&&t&&t.Object===Object&&t,ae="object"==typeof self&&self&&self.Object===Object&&self,ue=oe||ae||Function("return this")(),se="object"==typeof e&&e&&!e.nodeType&&e,ce=se&&"object"==typeof r&&r&&!r.nodeType&&r,le=ce&&ce.exports===se,fe=Array.prototype,he=Function.prototype,de=Object.prototype,pe=ue["__core-js_shared__"],ye=function(){var t=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ve=he.toString,ge=de.hasOwnProperty,_e=de.toString,be=RegExp("^"+ve.call(ge).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=le?ue.Buffer:void 0,we=ue.Symbol,Oe=ue.Uint8Array,Ee=h(Object.getPrototypeOf,Object),ke=Object.create,Se=de.propertyIsEnumerable,je=fe.splice,Re=Object.getOwnPropertySymbols,Ae=me?me.isBuffer:void 0,Pe=h(Object.keys,Object),Me=ut(ue,"DataView"),Te=ut(ue,"Map"),xe=ut(ue,"Promise"),Ce=ut(ue,"Set"),Ie=ut(ue,"WeakMap"),Ue=ut(Object,"create"),Ne=yt(Me),Le=yt(Te),De=yt(xe),Be=yt(Ce),Fe=yt(Ie),qe=we?we.prototype:void 0,$e=qe?qe.valueOf:void 0;p.prototype.clear=y,p.prototype.delete=v,p.prototype.get=g,p.prototype.has=_,p.prototype.set=b,m.prototype.clear=w,m.prototype.delete=O,m.prototype.get=E,m.prototype.has=k,m.prototype.set=S,j.prototype.clear=R,j.prototype.delete=A,j.prototype.get=P,j.prototype.has=M,j.prototype.set=T,x.prototype.clear=C,x.prototype.delete=I,x.prototype.get=U,x.prototype.has=N,x.prototype.set=L;var ze=Re?h(Re,Object):jt,Ye=G;(Me&&Ye(new Me(new ArrayBuffer(1)))!=Yt||Te&&Ye(new Te)!=Nt||xe&&"[object Promise]"!=Ye(xe.resolve())||Ce&&Ye(new Ce)!=Ft||Ie&&"[object WeakMap]"!=Ye(new Ie))&&(Ye=function(t){var e=_e.call(t),r=e==Dt?t.constructor:void 0,n=r?yt(r):void 0;if(n)switch(n){case Ne:return Yt;case Le:return Nt;case De:return"[object Promise]";case Be:return Ft;case Fe:return"[object WeakMap]"}return e});var Ge=Array.isArray,We=Ae||Rt;r.exports=vt}).call(e,r(0),r(2)(t))},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){return new Promise(function(e,r){t.beforeInitialize()?e(t):r(new Error("failed before initialize!"))})},a=function(t){return new Promise(function(e,r){t.initialize()?e(t):r(new Error("failed initialize!"))})},u=function(t){return new Promise(function(e,r){t.afterInitialize()?e(t):r(new Error("failed after initialize!"))})},s=function(t){return new Promise(function(e,r){t._started=!0,t.started?e(t):r(new Error("failed setting started!"))})},c=function(t){return new Promise(function(e,r){t.started?e(t):r(new Error("failed starting!"))})},l=function(){function t(e){n(this,t),this._metadata={},this._metadata.name=e||"untitled",this._metadata.datastore={},this._router=null,this._started=!1}return i(t,[{key:"initialize",value:function(){return!0}},{key:"beforeInitialize",value:function(){return!0}},{key:"afterInitialize",value:function(){return!0}},{key:"setMetadataItem",value:function(t,e){this._metadata[t]=e}},{key:"getMetadataItem",value:function(t){return this._metadata[t]}},{key:"registerRouter",value:function(t){t&&(this._router=t)}},{key:"start",value:function(){var t=this;o(t).then(a).then(u).then(s).then(c).catch(function(e){throw t.stop(),e})}},{key:"stop",value:function(){this._started=!1}},{key:"router",get:function(){return this._router}},{key:"started",get:function(){return this._started}},{key:"name",get:function(){return this.getMetadataItem("name")},set:function(t){return this.setMetadataItem("name",t)}},{key:"metadata",get:function(){return this._metadata}},{key:"datastore",get:function(){return this.getMetadataItem("datastore")},set:function(t){t&&this.setMetadataItem("datastore",t)}}]),t}();e.default=l},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(4),c=n(s),l=r(1),f=n(l),h=r(3),d=(n(h),r(7)),p=n(d),y=r(5),v=n(y),g=r(9),_=n(g),b=r(14),m=n(b),w=r(10),O=n(w),E=r(35),k=n(E),S=r(17),j=r(48),R={add:!0,remove:!0,merge:!0},A={add:!0,remove:!1},P=function(t,e,r){r=Math.min(Math.max(r,0),t.length);var n=Array(t.length-r),i=e.length,o=void 0;for(o=0;o<n.length;o++)n[o]=t[o+r];for(o=0;o<i;o++)t[o+r]=e[o];for(o=0;o<n.length;o++)t[o+i+r]=n[o]},M=function(t){function e(t,r){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.length=0,n.models=[],n._byId={},n.schema=null,n.validationMessages={valid:!0},r||(r={}),n.preinitialize(t,r),r.model&&(n.model=r.model),void 0!==r.comparator&&(n.comparator=r.comparator),n._reset(),n.initialize(t,r),t&&n.reset(t,(0,f.default)({silent:!0},r)),n.model||(n.model=new m.default),n}return a(e,t),u(e,[{key:"preinitialize",value:function(t,e){}},{key:"initialize",value:function(t,e){}},{key:"toJSON",value:function(){var t=0,e=[],r=this.models.length;for(t=0;t<r;t++)e[t]=this.models[t].toJSON();return e}},{key:"add",value:function(t,e){return this.set(t,(0,f.default)({merge:!1},e,A))}},{key:"remove",value:function(t,e){e=(0,f.default)({},e);var r=Array.isArray(t);t=r?[t]:t.slice();var n=this._removeModels(t,e);return!e.silent&&n.length&&(e.changes={added:[],merged:[],removed:n},this.trigger("update",this,e)),r?n[0]:n}},{key:"set",value:function(t,e){if(null!==t){e=(0,f.default)({},R,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!Array.isArray(t);t=r?[t]:t.slice();var n=e.at;null!=n&&(n=+n),n>this.length&&(n=this.length),n<0&&(n+=this.length+1);var i=[],o=[],a=[],u=[],s={},c=e.add,l=e.merge,h=e.remove,d=!1,y=this.comparator&&null==n&&!1!==e.sort,v=(0,p.default)(this.comparator)?this.comparator:null,g=void 0,_=void 0,b=t.length;for(_=0;_<b;_++){g=t[_];var m=this.get(g);if(m){if(l&&g!==m){var w=this._isModel(g)?g.attributes:g;e.parse&&(w=m.parse(w,e)),m.set(w,e),a.push(m),y&&!d&&(d=m.hasChanged(v))}s[m.cid]||(s[m.cid]=!0,i.push(m)),t[_]=m}else c&&(g=t[_]=this._prepareModel(g,e))&&(o.push(g),this._addReference(g,e),s[g.cid]=!0,i.push(g))}if(h){for(_=0;_<this.length;_++)g=this.models[_],s[g.cid]||u.push(g);u.length&&this._removeModels(u,e)}var O=!1,E=!y&&c&&h;if(i.length&&E?(O=this.length!==i.length||j(this.models,function(t,e){return t!==i[e]}),this.models.length=0,P(this.models,i,0),this.length=this.models.length):o.length&&(y&&(d=!0),P(this.models,o,null==n?this.length:n),this.length=this.models.length),d&&this.sort({silent:!0}),!e.silent){for(_=0;_<o.length;_++)null!=n&&(e.index=n+_),g=o[_],g.trigger("add",g,this,e);(d||O)&&this.trigger("sort",this,e),(o.length||u.length||a.length)&&(e.changes={added:o,removed:u,merged:a},this.trigger("update",this,e))}return r?t[0]:t}}},{key:"reset",value:function(t,e){e=e?S(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,(0,f.default)({silent:!0},e)),e.silent||this.trigger("reset",this,e),t}},{key:"push",value:function(t,e){return this.add(t,(0,f.default)({at:this.length},e))}},{key:"pop",value:function(t){var e=this.at(this.length-1);return this.remove(e,t)}},{key:"unshift",value:function(t,e){return this.add(t,(0,f.default)({at:0},e))}},{key:"shift",value:function(t){var e=this.at(0);return this.remove(e,t)}},{key:"slice",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.models.slice(e)}},{key:"get",value:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]}},{key:"has",value:function(t){return null!==this.get(t)}},{key:"at",value:function(t){return t<0&&(t+=this.length),this.models[t]}},{key:"where",value:function(t,e){return this[e?"find":"filter"](t)}},{key:"findWhere",value:function(t){return this.where(t,!0)}},{key:"sort",value:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return(0,v.default)(e)&&(e=e.bind(this)),1===r||(0,p.default)(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this}},{key:"pluck",value:function(t){var e=0,r=[],n=this.models.length;for(e=0;e<n;e++)r[e]=this.models[e].toJSON()[t];return r}},{key:"fetch",value:function(t){}},{key:"create",value:function(t,e){e=e?S(e):{};var r=e.wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var n=this,i=e.success;return e.success=function(t,e,o){r&&n.add(t,o),i&&i.call(o.context,t,e,o)},t.save(null,e),t}},{key:"parse",value:function(t,e){return t}},{key:"clone",value:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})}},{key:"modelId",value:function(t){return t?t[this.model.idAttribute||"id"]:"id"}},{key:"values",value:function(){return new k.default(this,ITERATOR_VALUES)}},{key:"keys",value:function(){return new k.default(this,ITERATOR_KEYS)}},{key:"entries",value:function(){return new k.default(this,ITERATOR_KEYSVALUES)}},{key:"_reset",value:function(){this.length=0,this.models=[],this._byId={}}},{key:"_prepareModel",value:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?S(e):{},e.collection=this;var r=new m.default(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r}},{key:"_removeModels",value:function(t,e){for(var r=[],n=0;n<t.length;n++){var i=this.get(t[n]);if(i){var o=this.indexOf(i);doctor,this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),r.push(i),this._removeReference(i,e)}}return r}},{key:"_isModel",value:function(t){return t instanceof m.default}},{key:"_addReference",value:function(t,e){this._byId[t.cid]=t;var r=this.modelId(t.attributes);null!=r&&(this._byId[r]=t),t.on("all",this._onModelEvent,this)}},{key:"_removeReference",value:function(t,e){delete this._byId[t.cid];var r=this.modelId(t.attributes);null!=r&&delete this._byId[r],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)}},{key:"_onModelEvent",value:function(t,e,r,n){if(e){if(("add"===t||"remove"===t)&&r!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}},{key:"supportsValidation",value:function(){return this.schema&&this.schema!=={}}},{key:"isValid",value:function(){return!this.validationMessages||this.validationMessages.valid}},{key:"getValidationMessages",value:function(){return this.validationMessages&&this.validationMessages.messages?this.validationMessages.messages:[]}},{key:"validate",value:function(){if(this.supportsValidation()){var t=[];this.validationMessages.messages=t,this.validationMessages.valid=!0;var e=this.toJSON(),r=e&&Array.isArray(e)?e.length:0,n=0,i=new O.default;for(n=0;n<r;n++)t[n]=i.validate(e[n],this.schema),t[n].valid||(this.validationMessages.valid=!1)}else this.validationMessages.valid=!0;return this.validationMessages}},{key:"sync",value:function(t,e,r){}},{key:"save",value:function(t){this.sync("create",this,t)}},{key:"update",value:function(t){this.sync("update",this,t)}},{key:"remove",value:function(t){this.sync("delete",this,t)}},{key:"sortByKey",value:function(t){if(t){var e=this.toJSON();if(e){var r=(0,_.default)(e,t);this.reset(r)}}}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"size",value:function(){return this.length}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),e}(c.default);e.default=M},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t){return(0,i.default)(t)?Object.getOwnPropertyNames(t):[]};e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return-1!==t.indexOf(e)};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t){return(0,i.default)(t)?Object.create(t):{}},a=function(t,e){var r=o(t);return e&&Object.assign(r,e),r};e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=t.split("."),a=o.pop(),u=o.length,s=0;for(s=0;s<u;s++)e=e[o[s]];return e[a].apply(e,n)};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return null!==t&&hasOwnProperty.call(t,e)};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return void 0!==t};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t,e){if(null!==t){var r=t[e];return(0,i.default)(r)?r.call(t):r}};e.default=o},function(t,e,r){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerFactory=e.Level=e.Type=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(13),s=function(t){return t&&t.__esModule?t:{default:t}}(u),c=e.Type={};c.CONSOLE=Symbol("console"),c.COLOR_CONSOLE=Symbol("colorConsole"),c.REST=Symbol("rest");var l=e.Level={};l.INFO=Symbol("info"),l.DEBUG=Symbol("debug"),l.ERROR=Symbol("error"),l.WARN=Symbol("warn");var f=function(){function t(e){o(this,t),this.loggerLevel=e||l.INFO,this.label=l,this.TIME_SEPERATOR=":",this.DATE_SEPERATOR="-",this.OPEN_GROUP=" [ ",this.CLOSE_GROUP=" ] "}return a(t,[{key:"_getLogTime",value:function(){var t=new Date,e=""+t.getFullYear()+this.DATE_SEPERATOR+(t.getMonth()+1)+this.DATE_SEPERATOR+t.getDate()+" "+t.getHours()+this.TIME_SEPERATOR+t.getMinutes()+this.TIME_SEPERATOR+t.getSeconds()+this.TIME_SEPERATOR+t.getMilliseconds();return(0,s.default)("                        ",e,!1)}},{key:"log",value:function(t,e){var r="";return t&&(e||(e=l.INFO),this.loggerLevel===l.DEBUG&&e===l.DEBUG?r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"DEBUG"+this.CLOSE_GROUP+t,e):e===l.ERROR?r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"ERROR"+this.CLOSE_GROUP+t,e):e===l.WARN?r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"WARN "+this.CLOSE_GROUP+t,e):this.loggerLevel!==l.DEBUG&&this.loggerLevel!==l.INFO||(r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"INFO "+this.CLOSE_GROUP+t,e))),r}},{key:"info",value:function(t){this.log(t,l.INFO)}},{key:"error",value:function(t){this.log(t,l.ERROR)}},{key:"debug",value:function(t){this.log(t,l.DEBUG)}},{key:"warn",value:function(t){this.log(t,l.WARN)}},{key:"_logMe",value:function(t,e){}}]),t}(),h=function(t){function e(t){return o(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return i(e,t),a(e,[{key:"_logMe",value:function(t,e){return e===l.INFO?console.info(t):e===l.ERROR?console.error(t):e===l.DEBUG?console.log(t):e===l.WARN?console.warn(t):console.log(t),t}}]),e}(f),d=function(t){function e(t){return o(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return i(e,t),a(e,[{key:"_logMe",value:function(t,e){e===l.INFO?console.info("[36m"+t+"[0m"):e===l.ERROR?console.error("[31m"+t+"[0m"):e===l.DEBUG?console.log("[34m"+t+"[0m"):e===l.WARN?console.warn("[33m"+t+"[0m"):console.log("[37m"+t+"[0m")}}]),e}(f),p=function(t){function e(t,r){o(this,e);var i=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.uri=r,i}return i(e,t),a(e,[{key:"setURI",value:function(t){this.uri=t}},{key:"_logMe",value:function(t){}}]),e}(f);e.LoggerFactory=function(){function t(){o(this,t)}return a(t,null,[{key:"getLogger",value:function(t,e){return t===c.CONSOLE?new h(e):t===c.COLOR_CONSOLE?new d(e):t===c.REST?new p(e):void 0}}]),t}()},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(7),a=function(t){return t&&t.__esModule?t:{default:t}}(o),u=function(){function t(e){n(this,t),this._keys=[],this._data={},e&&this.marshall(e)}return i(t,[{key:"set",value:function(t,e){null!==t&&null!==e&&(this._data[t]||this._keys.push(t),this._data[t]=e)}},{key:"get",value:function(t){return this._data[t]}},{key:"indexOf",value:function(t){return this._keys.indexOf(t)}},{key:"remove",value:function(t){var e=this.indexOf(t);this._keys.splice(e,1),delete this._data[t]}},{key:"has",value:function(t){return-1!==this.indexOf(t)}},{key:"forEach",value:function(t){if("function"!=typeof t)return null;var e=this._keys.length,r=0,n=void 0;for(r=0;r<e;r++)n=this._keys[r],t(n,this._data[n],r)}},{key:"key",value:function(t){return this._keys[t]}},{key:"entries",value:function(){var t=0,e=this._keys.length,r=new Array(e);for(t=0;t<e;t++)r[t]={key:this._keys[t],value:this._data[t]};return r}},{key:"values",value:function(){var t=this._keys.length,e=new Array(t),r=0,n=void 0;for(r=0;r<t;r++)n=this._keys[r],e[r]=this._data[n];return e}},{key:"clear",value:function(){this._keys=[],this._data={}}},{key:"size",value:function(){return this._keys.length}},{key:"toJSON",value:function(){return this._data}},{key:"toString",value:function(){return JSON.stringify(this._data)}},{key:"isEmpty",value:function(){return 0===this._keys.length}},{key:"marshall",value:function(e){var r=void 0;if(e&&e instanceof t)r=e.toJSON();else if(e&&e instanceof Object&&Object.keys(e).length>0)r=e;else{if(!e||!(0,a.default)(e))return!1;try{r=JSON.parse(e)}catch(t){return!1}}var n=Object.keys(r);return n.length,this._keys=n,this._data=r,!0}}]),t}();e.default=u},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(1),u=n(a),s=r(12),c=n(s),l=function(){function t(e){i(this,t),this._timeout=e||c.default.AsynchronousQueueTimeout,this._queue={}}return o(t,[{key:"add",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return!!(e&&e.length>0)&&((0,u.default)(this._queue,e),!0)}},{key:"clear",value:function(){this._queue.length>0&&this._queue.splice(0,this._queue.length)}},{key:"process",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];e&&(0,u.default)(this._queue,e);var n=this._queue,i=Object.keys(n).length,o=this._timeout;return!(i<=0)&&(function t(e){if(e>=i||"function"!=typeof n[e])return!1;setTimeout(function(){n[e](),t(e+1)},o)}(0),!0)}},{key:"timeout",get:function(){return this._timeout}},{key:"queue",get:function(){return this._queue}}]),t}();e.default=l},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=(e.BundleObject={name:"",mode:"both",cache:!0},e.ResourceBundle=function(){function t(){n(this,t)}return i(t,null,[{key:"getBundle",value:function(){return{}}},{key:"getString",value:function(){return""}}]),t}());e.MessageReader=function(){function t(){n(this,t)}return i(t,[{key:"getMessage",value:function(t){for(var e=o.getString(t),r=t.length,n=t;r>0&&e=="["+t+"]";)r=t.lastIndexOf("."),t=t.substring(0,r),e=o.getString(t);return t?e:"["+n+"]"}}]),t}(),e.MessageKeyFormatter=function(){function t(){n(this,t),this.delimiter="."}return i(t,null,[{key:"format",value:function(t){var e="";return t&&t.level&&(e+=t.level,t.kind&&(e+=this.delimiter+t.kind,t.rule&&(e+=this.delimiter+t.rule,t.values.title&&(e+=this.delimiter+t.values.title)))),e||""}}]),t}()},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Entry=e.AuthenticationFactory=e.Context=e.Principal=void 0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(36),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),u=r(8),s=function(t){return t&&t.__esModule?t:{default:t}}(u),c=e.Principal=function(){function t(){n(this,t),this._fullName="",this._id=0,this._login="",this._email=""}return i(t,[{key:"fullName",get:function(){return this._fullName},set:function(t){this._fullName=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"login",get:function(){return this._login},set:function(t){this._login=t}},{key:"email",get:function(){return this._email},set:function(t){this._email=t}}]),t}();e.Context=function(){function t(e,r){n(this,t),this._principal=null,this._permissions=[],this._principal=e||((new c).login="guest"),this._permissions=r||[]}return i(t,[{key:"addPermission",value:function(t){this._permissions.push(t)}},{key:"removePermission",value:function(t){var e=this._permissions.indexOf(t);this._permissions.splice(e,1)}},{key:"hasPermission",value:function(t){return-1!==this._permissions.indexOf(t)}},{key:"principal",get:function(){return this._principal}},{key:"permissions",get:function(){return this._permissions},set:function(t){this._permissions=t}}]),t}(),e.AuthenticationFactory=function(){function t(){n(this,t)}return i(t,null,[{key:"getSecurityClient",value:function(t){return t===s.default.OAUTH2?new a.OAUTH2Client:t===s.default.ACL?new a.ACLClient:null}}]),t}(),e.Entry=function(){function t(e,r){n(this,t),this._permissions=[],this._permissions=e||[],this._neg=r||!1}return i(t,[{key:"isNegative",value:function(){return this._neg}},{key:"addPermission",value:function(t){this._permissions.push(t)}},{key:"removePermission",value:function(t){var e=this._permissions.indexOf(t);this._permissions.splice(e,1)}},{key:"hasPermission",value:function(t){return-1!=this._permissions.indexOf(t)}},{key:"setNegative",value:function(t){this.neg=t}},{key:"permissions",get:function(){return this._permissions},set:function(t){this._permissions=t}}]),t}()},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(){n(this,t),this._stack=[]}return i(t,[{key:"empty",value:function(){return 0===this._stack.length}},{key:"peek",value:function(){return this._stack[0]}},{key:"pop",value:function(){return this._stack.pop()}},{key:"push",value:function(t){this._stack.push(t)}},{key:"search",value:function(t){return this._stack.indexOf(t)}},{key:"size",value:function(){return this._stack.length}},{key:"clear",value:function(){this._stack.splice(0,this._stack.length)}},{key:"toArray",value:function(){return this._stack}},{key:"toString",value:function(){return this._stack.toString()}}]),t}();e.default=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.filterObject=e.wrap=e.Transformer=e.TransformerType=e.quickSort=e.binarySearch=e.prettyPrint=e.shuffle=void 0;var o=arguments,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(1),c=(n(s),r(9)),l=(n(c),e.shuffle=function(t){var e=t.slice(0),r=t.length,n=0,i=void 0,o=void 0;for(n=r-1;n>0;n--)o=Math.floor(Math.random()*(n+1)),i=e[n],e[n]=e[o],e[o]=i;return e},e.prettyPrint=function(t,e,r){var n="\t";return e&&(n=" ".repeat(r)),JSON.stringify(t,null,n)},e.binarySearch=function(t,e,r){for(var n=0,i=t.length-1,o=void 0,a=void 0;n<=i;)if(o=Math.floor((n+i)/2),(a=r(t[o],e))<0)n=o+1;else{if(!(a>0))return o;i=o-1}return null},e.quickSort=function t(e){if(0===e.length)return[];var r=1,n=e.length,i=[],o=[],a=e[0];for(r=1;r<n;r++)e[r]<a?i.push(e[r]):o.push(e[r]);return t(i).concat(a,t(o))},e.TransformerType={});l.STRING=Symbol("String"),l.INTEGER=Symbol("Integer"),l.NUMBER=Symbol("Number"),l.BOOLEAN=Symbol("Boolean"),l.ARRAY=Symbol("Array"),l.OBJECT=Symbol("Object"),l.NULL=Symbol("Null"),e.Transformer=function(){function t(){i(this,t),this.type=l}return u(t,null,[{key:"transform",value:function(t,e){var r=null;switch(e){case l.STRING:r="object"===(void 0===t?"undefined":a(t))?JSON.stringify(t):String(t);break;case l.INTEGER:r=parseInt(t);break;case l.NUMBER:r=Number(t);break;case l.BOOLEAN:r=Boolean(t);break;case l.ARRAY:Array.isArray(t)?r=t:(r=[],r[0]=t);break;case l.OBJECT:"object"!==(void 0===t?"undefined":a(t))?(r={},r[t]=t):r=t}return r}},{key:"isType",value:function(t){return null===t?l.NULL:"string"==typeof t?l.STRING:"number"==typeof t?l.NUMBER:"boolean"==typeof t?l.BOOLEAN:Array.isArray(t)?l.ARRAY:"object"===(void 0===t?"undefined":a(t))?l.OBJECT:void 0}}]),t}(),e.wrap=function(t,e){return function(){return e.apply(void 0,[t].concat(Array.prototype.slice.call(o)))}},e.filterObject=function(t,e){var r={};if(t&&e){var n=e.length,i=0;for(i=0;i<n;i++)r[e[i]]=t[e[i]]}return r}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=r(33),a=i(o),u=r(9),s=n(u),c=r(4),l=n(c),f=r(14),h=n(f),d=r(19),p=n(d),y=r(32),v=n(y),g=r(28),_=n(g),b=r(27),m=i(b),w=r(12),O=n(w),E=r(29),k=n(E),S=r(18),j=n(S),R=r(30),A=r(15),P=n(A),M=r(10),T=n(M),x=r(31),C=i(x),I=r(8),U=n(I),N=r(7),L=n(N),D=r(5),B=n(D),F=r(1),q=n(F),$=r(13),z=n($),Y=r(3),G=n(Y),W=r(24),V=n(W),H=r(6),K=n(H),J=r(20),X=n(J),Q=r(22),Z=n(Q),tt=r(26),et=n(tt),rt=r(21),nt=n(rt),it=r(23),ot=n(it),at=r(25),ut=n(at),st={};st.Utility=a,st.Utility.Map=_.default,st.Utility.Stack=v.default,st.Utility.SchemaGenerator=P.default,st.Utility.extend=q.default,st.Utility.AsynchronousQueue=k.default,st.Utility.pad=z.default,st.Utility.BundleObject=R.BundleObject,st.Utility.ResourceBundle=R.ResourceBundle,st.Utility.MessageReader=R.MessageReader,st.Utility.MessageKeyFormatter=R.MessageKeyFormatter,st.Utility.uniqueId=G.default,st.Utility.sortObjects=s.default,st.Logger=m,st.Object=l.default,st.AbstractModel=h.default,st.AbstractCollection=p.default,st.ValidationFramework=T.default,st.Security=C,st.Security.ClientType=U.default,st.Configuration=O.default,st.Application=j.default,st.isString=L.default,st.isFunction=B.default,st.has=V.default,st.isObject=K.default,st.allKeys=X.default,st.create=Z.default,st.result=et.default,st.arrayHas=nt.default,st.exec=ot.default,st.isDefined=ut.default,st.VERSION="2.0.0-alpha.6",st.codename="JC Denton",st.releasename="UNATCO",e.default=st,t.exports=st},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();!function(){function t(e,r){n(this,t),this._collection=e,this._kind=r,this._index=0}i(t,[{key:"next",value:function(){if(this._collection){if(this._index<this._collection.length){var t=this._collection.at(this._index);this._index++;var e=void 0;if(1===this._kind)e=t;else{var r=this._collection.modelId(t.attributes);e=2===this._kind?r:[r,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}}}])}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ACLClient=e.OAUTH2Client=e.AbstractSecurityClient=void 0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(4),c=n(s),l=r(8),f=n(l),h=e.AbstractSecurityClient=function(t){function e(t){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r._type=null,r.uri="",r._type=t,r}return a(e,t),u(e,[{key:"type",get:function(){return this._type}}]),e}(c.default);e.OAUTH2Client=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.default.OAUTH2));return t.accessToken="",t.authorizationToken="",t}return a(e,t),u(e,[{key:"authorize",value:function(t){this.authorizationToken=""}},{key:"access",value:function(t){this.accessToken=""}}]),e}(h),e.ACLClient=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.default.ACL))}return a(e,t),u(e,[{key:"authenticate",value:function(t,e){var r=null;return Ajax({url:this.uri,method:"GET",user:t,password:e,success:function(t,e){var n=new Principal({fullName:t.fullName,id:t.id,login:t.login,email:t.email});r=new securityContext(n,t.permissions)},failure:function(t,e){throw new Error("Failed to authenticate with response of - "+e)}}),r}}]),e}(h)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=arguments,i=r(38),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=r(11),u=r(16),s={},c=function t(e){var r=new o.default,i=e||"en";return{addFormat:function(t,e){r.addFormat(t,e)},language:function(t){return t?(s[t]||(t=t.split("-")[0]),!!s[t]&&(i=t,t)):i},addLanguage:function(t,e){var r=void 0;for(r in a.ERROR_CODES)e[r]&&!e[a.ERROR_CODES[r]]&&(e[a.ERROR_CODES[r]]=e[r]);var n=t.split("-")[0];if(s[n]){s[t]=Object.create(s[n]);for(r in e)void 0===s[n][r]&&(s[n][r]=e[r]),s[t][r]=e[r]}else s[t]=e,s[n]=e},freshApi:function(e){var r=t();return e&&r.language(e),r},validate:function(t,e,n,a){var u=new o.default(r,!1,s[i],n,a);"string"==typeof e&&(e={$ref:e}),u.addSchema("",e);var c=u.validateAll(t,e,null,null,"");return!c&&a&&(c=u.banUnknownProperties()),(void 0).error=c,(void 0).missing=u.missing,(void 0).valid=null===c,(void 0).valid},validateResult:function(){var t={};return(void 0).validate.apply(t,n),t},validateMultiple:function(t,e,n,a){var u=new o.default(r,!0,s[i],n,a);"string"==typeof e&&(e={$ref:e}),u.addSchema("",e),u.validateAll(t,e,null,null,""),a&&u.banUnknownProperties();var c={};return c.errors=u.errors,c.missing=u.missing,c.valid=0===c.errors.length,c},addSchema:function(t,e){return r.addSchema(t,e)},getSchema:function(t,e){return r.getSchema(t,e)},getSchemaMap:function(){return r.getSchemaMap.apply(r,n)},getSchemaUris:function(){return r.getSchemaUris.apply(r,n)},getMissingUris:function(){return r.getMissingUris.apply(r,n)},dropSchemas:function(){r.dropSchemas.apply(r,n)},defineKeyword:function(){r.defineKeyword.apply(r,n)},defineError:function(t,e,r){if("string"!=typeof t||!/^[A-Z]+(_[A-Z]+)*$/.test(t))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof e||e%1!=0||e<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==a.ERROR_CODES[t])throw new Error("Error already defined: "+t+" as "+a.ERROR_CODES[t]);if(void 0!==a.ErrorCodeLookup[e])throw new Error("Error code already used: "+a.ErrorCodeLookup[e]+" as "+e);a.ERROR_CODES[t]=e,a.ErrorCodeLookup[e]=t,a.ERROR_MESSAGES_DEFAULT[t]=a.ERROR_MESSAGES_DEFAULT[e]=r;for(var n in s){var i=s[n];i[t]&&(i[e]=i[e]||i[t])}},reset:function(){r.reset(),(void 0).error=null,(void 0).missing=[],(void 0).valid=!0},missing:[],error:null,valid:!0,normSchema:u.normSchema,resolveUrl:u.resolveUrl,getDocumentUri:u.getDocumentUri,errorCodes:a.ERROR_CODES}};e.default=c},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(11),u=r(16),s=Math.pow(2,-51),c=1-s,l=function(){function t(e,r,i,o,a){if(n(this,t),this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=r,this.errors=[],this.handleError=r?this.collectError:this.returnError,o&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),a&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=i,this.definedKeywords={},e)for(var u in e.definedKeywords)this.definedKeywords[u]=e.definedKeywords[u].slice(0)}return o(t,[{key:"notReallyPercentEncode",value:function(t){return encodeURI(t).replace(/%25[0-9][0-9]/g,function(t){return"%"+t.substring(3)})}},{key:"uriTemplateSubstitution",value:function(t){var e=this,r="";URI_TEMPLATE_GLOBAL_MODIFIERS[t.charAt(0)]&&(r=t.charAt(0),t=t.substring(1));var n="",o="",a=!0,u=!1,s=!1;"+"===r?a=!1:"."===r?(o=".",n="."):"/"===r?(o="/",n="/"):"#"===r?(o="#",a=!1):";"===r?(o=";",n=";",u=!0,s=!0):"?"===r?(o="?",n="&",u=!0):"&"===r&&(o="&",n="&",u=!0);var c=[],l=t.split(","),f=[],h={},d=0,p=l.length;for(d=0;d<p;d++){var y=l[d],v=null;if(-1!==y.indexOf(":")){var g=y.split(":");y=g[0],v=parseInt(g[1],10)}for(var _={};URI_TEMPLATE_SUFFICES[y.charAt(y.length-1)];)_[y.charAt(y.length-1)]=!0,y=y.substring(0,y.length-1);var b={truncate:v,name:y,suffices:_};f.push(b),h[y]=b,c.push(y)}var m=function(t){var r="",c=0,l=0,h=f.length;for(l=0;l<h;l++){var d=f[l];if(!t&&!isFunction(t))throw new Error("Problem qith value function.");var p=t(d.name);if(null===p||void 0===p||Array.isArray(p)&&0===p.length||"object"===(void 0===p?"undefined":i(p))&&0===Object.keys(p).length)c++;else if(r+=l===c?o:n||",",Array.isArray(p)){u&&(r+=d.name+"=");var y=0;for(h=p.length,y=0;y<h;y++)y>0&&(r+=d.suffices["*"]?n||",":",",d.suffices["*"]&&u&&(r+=d.name+"=")),r+=a?encodeURIComponent(p[y]).replace(/!/g,"%21"):e.notReallyPercentEncode(p[y])}else if("object"===(void 0===p?"undefined":i(p))){u&&!d.suffices["*"]&&(r+=d.name+"=");var v=!0;for(var g in p)v||(r+=d.suffices["*"]?n||",":","),v=!1,r+=a?encodeURIComponent(g).replace(/!/g,"%21"):e.notReallyPercentEncode(g),r+=d.suffices["*"]?"=":",",r+=a?encodeURIComponent(p[g]).replace(/!/g,"%21"):e.notReallyPercentEncode(p[g])}else u&&(r+=d.name,s&&""===p||(r+="=")),null!==d.truncate&&(p=p.substring(0,d.truncate)),r+=a?encodeURIComponent(p).replace(/!/g,"%21"):e.notReallyPercentEncode(p)}return r};return m.varNames=c,{prefix:o,substitution:m}}},{key:"recursiveCompare",value:function(t,e){if(t===e)return!0;if("object"===(void 0===t?"undefined":i(t))&&"object"===(void 0===e?"undefined":i(e))){if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var r=0,n=t.length;for(r=0;r<n;r++)if(!this.recursiveCompare(t[r],e[r]))return!1}else{var o=void 0;for(o in t)if(void 0===e[o]&&void 0!==t[o])return!1;for(o in e)if(void 0===t[o]&&void 0!==e[o])return!1;for(o in t)if(!this.recursiveCompare(t[o],e[o]))return!1}return!0}return!1}},{key:"defineKeyword",value:function(t,e){this.definedKeywords[t]=this.definedKeywords[t]||[],this.definedKeywords[t].push(e)}},{key:"createError",value:function(t,e,r,n,i){var o=this.errorMessages[t]||a.ERROR_MESSAGES_DEFAULT[t];if("string"!=typeof o)return new a.ValidationError(t,"Unknown error code "+t+": "+JSON.stringify(e),e,r,n,i);var u=o.replace(/\{([^{}]*)\}/g,function(t,r){var n=e[r];return"string"==typeof n||"number"==typeof n?n:t});return new a.ValidationError(t,u,e,r,n,i)}},{key:"returnError",value:function(t){return t}},{key:"collectError",value:function(t){return t&&this.errors.push(t),null}},{key:"prefixErrors",value:function(t,e,r){var n=0,i=this.errors.length;for(n=t;n<i;n++)this.errors[n]=this.errors[n].prefixWith(e,r);return this}},{key:"banUnknownProperties",value:function(){for(var t in this.unknownPropertyPaths){var e=this.createError(a.ERROR_CODES.UNKNOWN_PROPERTY,{path:t},t,""),r=this.handleError(e);if(r)return r}return null}},{key:"addFormat",value:function(t,e){if("object"===(void 0===t?"undefined":i(t))){for(var r in t)this.addFormat(r,t[r]);return this}this.formatValidators[t]=e}},{key:"resolveRefs",value:function(t,e){if(void 0!==t.$ref){if(e=e||{},e[t.$ref])return this.createError(a.ERROR_CODES.CIRCULAR_REFERENCE,{urls:Object.keys(e).join(", ")},"","");e[t.$ref]=!0,t=this.getSchema(t.$ref,e)}return t}},{key:"getSchema",value:function(t,e){var r=void 0;if(void 0!==this.schemas[t])return r=this.schemas[t],this.resolveRefs(r,e);var n=t,o="";if(-1!==t.indexOf("#")&&(o=t.substring(t.indexOf("#")+1),n=t.substring(0,t.indexOf("#"))),"object"===i(this.schemas[n])){r=this.schemas[n];var a=decodeURIComponent(o);if(""===a)return this.resolveRefs(r,e);if("/"!==a.charAt(0))return;var u=a.split("/").slice(1),s=0,c=u.length;for(s=0;s<c;s++){var l=u[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[l]){r=void 0;break}r=r[l]}if(void 0!==r)return this.resolveRefs(r,e)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)}},{key:"searchSchemas",value:function(t,e){if(Array.isArray(t)){var r=0,n=t.length;for(r=0;r<n;r++)this.searchSchemas(t[r],e)}else if(t&&"object"===(void 0===t?"undefined":i(t))){"string"==typeof t.id&&isTrustedUrl(e,t.id)&&void 0===this.schemas[t.id]&&(this.schemas[t.id]=t);for(var o in t)if("enum"!==o)if("object"===i(t[o]))this.searchSchemas(t[o],e);else if("$ref"===o){var a=(0,u.getDocumentUri)(t[o]);a&&void 0===this.schemas[a]&&void 0===this.missingMap[a]&&(this.missingMap[a]=a)}}}},{key:"addSchema",value:function(t,e){if("string"!=typeof t||void 0===e){if("object"!==(void 0===t?"undefined":i(t))||"string"!=typeof t.id)return;e=t,t=e.id}t===(0,u.getDocumentUri)(t)+"#"&&(t=(0,u.getDocumentUri)(t)),this.schemas[t]=e,delete this.missingMap[t],(0,u.normSchema)(e,t),this.searchSchemas(e,t)}},{key:"getSchemaMap",value:function(){var t={};for(var e in this.schemas)t[e]=this.schemas[e];return t}},{key:"getSchemaUris",value:function(t){var e=[];for(var r in this.schemas)t&&!t.test(r)||e.push(r);return e}},{key:"getMissingUris",value:function(t){var e=[];for(var r in this.missingMap)t&&!t.test(r)||e.push(r);return e}},{key:"dropSchemas",value:function(){this.schemas={},this.reset()}},{key:"reset",value:function(){this.missing=[],this.missingMap={},this.errors=[]}},{key:"validateAll",value:function(t,e,r,n,o){var u=void 0;if(!(e=this.resolveRefs(e)))return null;if(e instanceof a.ValidationError)return this.errors.push(e),e;var s=this.errors.length,c=void 0,l=null,f=null;if(this.checkRecursive&&t&&"object"===(void 0===t?"undefined":i(t))){if(u=!this.scanned.length,t[this.validatedSchemasKey]){var h=t[this.validatedSchemasKey].indexOf(e);if(-1!==h)return this.errors=this.errors.concat(t[this.validationErrorsKey][h]),null}if(Object.isFrozen(t)&&-1!==(c=this.scannedFrozen.indexOf(t))){var d=this.scannedFrozenSchemas[c].indexOf(e);if(-1!==d)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[c][d]),null}if(this.scanned.push(t),Object.isFrozen(t))-1===c&&(c=this.scannedFrozen.length,this.scannedFrozen.push(t),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[c].length,this.scannedFrozenSchemas[c][l]=e,this.scannedFrozenValidationErrors[c][l]=[];else{if(!t[this.validatedSchemasKey])try{Object.defineProperty(t,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(t,this.validationErrorsKey,{value:[],configurable:!0})}catch(e){t[this.validatedSchemasKey]=[],t[this.validationErrorsKey]=[]}f=t[this.validatedSchemasKey].length,t[this.validatedSchemasKey][f]=e,t[this.validationErrorsKey][f]=[]}}var p=this.errors.length,y=this.validateBasic(t,e,o)||this.validateNumeric(t,e,o)||this.validateString(t,e,o)||this.validateArray(t,e,o)||this.validateObject(t,e,o)||this.validateCombinations(t,e,o)||this.validateHypermedia(t,e,o)||this.validateFormat(t,e,o)||this.validateDefinedKeywords(t,e,o)||null;if(u){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(y||p!==this.errors.length)for(;r&&r.length||n&&n.length;){var v=r&&r.length?""+r.pop():null,g=n&&n.length?""+n.pop():null;y&&(y=y.prefixWith(v,g)),this.prefixErrors(p,v,g)}return null!==l?this.scannedFrozenValidationErrors[c][l]=this.errors.slice(s):null!==f&&(t[this.validationErrorsKey][f]=this.errors.slice(s)),this.handleError(y)}},{key:"validateFormat",value:function(t,e){if("string"!=typeof e.format||!this.formatValidators[e.format])return null;var r=this.formatValidators[e.format].call(null,t,e);return"string"==typeof r||"number"==typeof r?this.createError(a.ERROR_CODES.FORMAT_CUSTOM,{message:r}).prefixWith(null,"format"):r&&"object"===(void 0===r?"undefined":i(r))?this.createError(a.ERROR_CODES.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||null,r.schemaPath||"/format"):null}},{key:"validateDefinedKeywords",value:function(t,e,r){for(var n in this.definedKeywords)if(void 0!==e[n]){var o=this.definedKeywords[n],u=0,s=o.length;for(u=0;u<s;u++){var c=o[u],l=c(t,e[n],e,r);if("string"==typeof l||"number"==typeof l)return this.createError(a.ERROR_CODES.KEYWORD_CUSTOM,{key:n,message:l}).prefixWith(null,"format");if(l&&"object"===(void 0===l?"undefined":i(l))){var f=l.code;if("string"==typeof f){if(!a.ERROR_CODES[f])throw new Error("Undefined error code (use defineError): "+f);f=a.ERROR_CODES[f]}else"number"!=typeof f&&(f=a.ERROR_CODES.KEYWORD_CUSTOM);var h="object"===i(l.message)?l.message:{key:n,message:l.message||"?"},d=l.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(f,h,l.dataPath||null,d)}}}return null}},{key:"validateBasic",value:function(t,e,r){var n=this.validateType(t,e,r);return n?n.prefixWith(null,"type"):null}},{key:"validateType",value:function(t,e){if(void 0===e.type)return null;var r=void 0===t?"undefined":i(t);null===t?r="null":Array.isArray(t)&&(r="array");var n=e.type;"object"!==(void 0===n?"undefined":i(n))&&(n=[n]);var o=0,u=n.length;for(o=0;o<u;o++){var s=n[o];if(s===r||"integer"===s&&"number"===r&&t%1==0)return null}return this.createError(a.ERROR_CODES.INVALID_TYPE,{type:r,expected:n.join("/")})}},{key:"validateEnum",value:function(t,e){if(void 0===e.enum)return null;var r=0,n=e.enum.length;for(r=0;r<n;r++){var i=e.enum[r];if(this.recursiveCompare(t,i))return null}return this.createError(a.ERROR_CODES.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})}},{key:"validateNumeric",value:function(t,e,r){return this.validateMultipleOf(t,e,r)||this.validateMinMax(t,e,r)||this.validateNaN(t,e,r)||null}},{key:"validateMultipleOf",value:function(t,e){var r=e.multipleOf||e.divisibleBy;if(void 0===r)return null;if("number"==typeof t){var n=t/r%1;if(n>=s&&n<c)return this.createError(a.ERROR_CODES.NUMBER_MULTIPLE_OF,{value:t,multipleOf:r})}return null}},{key:"validateMinMax",value:function(t,e){if("number"!=typeof t)return null;if(void 0!==e.minimum){if(t<e.minimum)return this.createError(a.ERROR_CODES.NUMBER_MINIMUM,{value:t,minimum:e.minimum}).prefixWith(null,"minimum");if(e.exclusiveMinimum&&t===e.minimum)return this.createError(a.ERROR_CODES.NUMBER_MINIMUM_EXCLUSIVE,{value:t,minimum:e.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==e.maximum){if(t>e.maximum)return this.createError(a.ERROR_CODES.NUMBER_MAXIMUM,{value:t,maximum:e.maximum}).prefixWith(null,"maximum");if(e.exclusiveMaximum&&t===e.maximum)return this.createError(a.ERROR_CODES.NUMBER_MAXIMUM_EXCLUSIVE,{value:t,maximum:e.maximum}).prefixWith(null,"exclusiveMaximum")}return null}},{key:"validateNaN",value:function(t){return"number"!=typeof t?null:!0===isNaN(t)||t===1/0||t===-1/0?this.createError(a.ERROR_CODES.NUMBER_NOT_A_NUMBER,{value:t}).prefixWith(null,"type"):null}},{key:"validateString",value:function(t,e,r){return this.validateStringLength(t,e,r)||this.validateStringPattern(t,e,r)||null}},{key:"validateStringLength",value:function(t,e){return"string"!=typeof t?null:void 0!==e.minLength&&t.length<e.minLength?this.createError(a.ERROR_CODES.STRING_LENGTH_SHORT,{length:t.length,minimum:e.minLength}).prefixWith(null,"minLength"):void 0!==e.maxLength&&t.length>e.maxLength?this.createError(a.ERROR_CODES.STRING_LENGTH_LONG,{length:t.length,maximum:e.maxLength}).prefixWith(null,"maxLength"):null}},{key:"validateStringPattern",value:function(t,e){return"string"!=typeof t||void 0===e.pattern?null:new RegExp(e.pattern).test(t)?null:this.createError(a.ERROR_CODES.STRING_PATTERN,{pattern:e.pattern}).prefixWith(null,"pattern")}},{key:"validateArray",value:function(t,e,r){return Array.isArray(t)?this.validateArrayLength(t,e,r)||this.validateArrayUniqueItems(t,e,r)||this.validateArrayItems(t,e,r)||null:null}},{key:"validateArrayLength",value:function(t,e){var r=void 0;return void 0!==e.minItems&&t.length<e.minItems&&(r=this.createError(a.ERROR_CODES.ARRAY_LENGTH_SHORT,{length:t.length,minimum:e.minItems}).prefixWith(null,"minItems"),this.handleError(r))?r:void 0!==e.maxItems&&t.length>e.maxItems&&(r=this.createError(a.ERROR_CODES.ARRAY_LENGTH_LONG,{length:t.length,maximum:e.maxItems}).prefixWith(null,"maxItems"),this.handleError(r))?r:null}},{key:"validateArrayUniqueItems",value:function(t,e){if(e.uniqueItems){var r=0,n=t.length;for(r=0;r<n;r++){var i=0;for(i=r+1;i<n;i++)if(recursiveCompare(t[r],t[i])){var o=this.createError(a.ERROR_CODES.ARRAY_UNIQUE,{match1:r,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}}}return null}},{key:"validateArrayItems",value:function(t,e,r){if(void 0===e.items)return null;var n=void 0,i=void 0;if(Array.isArray(e.items)){var o=t.length;for(i=0;i<o;i++)if(i<e.items.length){if(n=this.validateAll(t[i],e.items[i],[i],["items",i],r+"/"+i))return n}else if(void 0!==e.additionalItems)if("boolean"==typeof e.additionalItems){if(!e.additionalItems&&(n=this.createError(a.ERROR_CODES.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(n)))return n}else if(n=this.validateAll(t[i],e.additionalItems,[i],["additionalItems"],r+"/"+i))return n}else{var u=t.length;for(i=0;i<u;i++)if(n=this.validateAll(t[i],e.items,[i],["items"],r+"/"+i))return n}return null}},{key:"validateObject",value:function(t,e,r){return"object"!==(void 0===t?"undefined":i(t))||null===t||Array.isArray(t)?null:this.validateObjectMinMaxProperties(t,e,r)||this.validateObjectRequiredProperties(t,e,r)||this.validateObjectProperties(t,e,r)||this.validateObjectDependencies(t,e,r)||null}},{key:"validateObjectMinMaxProperties",value:function(t,e){var r=Object.keys(t),n=void 0;return void 0!==e.minProperties&&r.length<e.minProperties&&(n=this.createError(a.ERROR_CODES.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:e.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==e.maxProperties&&r.length>e.maxProperties&&(n=this.createError(a.ERROR_CODES.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:e.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null}},{key:"validateObjectRequiredProperties",value:function(t,e){if(void 0!==e.required){var r=0,n=e.required.length;for(r=0;r<n;r++){var i=e.required[r];if(void 0===t[i]){var o=this.createError(a.ERROR_CODES.OBJECT_REQUIRED,{key:i}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(o))return o}}}return null}},{key:"validateObjectProperties",value:function(t,e,r){var n=void 0;for(var i in t){var o=r+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),u=!1;if(void 0!==e.properties&&void 0!==e.properties[i]&&(u=!0,n=this.validateAll(t[i],e.properties[i],[i],["properties",i],o)))return n;if(void 0!==e.patternProperties)for(var s in e.patternProperties){var c=new RegExp(s);if(c.test(i)&&(u=!0,n=this.validateAll(t[i],e.patternProperties[s],[i],["patternProperties",s],o)))return n}if(u)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==e.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof e.additionalProperties){if(!e.additionalProperties&&(n=this.createError(a.ERROR_CODES.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(n)))return n}else if(n=this.validateAll(t[i],e.additionalProperties,[i],["additionalProperties"],o))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null}},{key:"validateObjectDependencies",value:function(t,e,r){var n=void 0;if(void 0!==e.dependencies)for(var i in e.dependencies)if(void 0!==t[i]){var o=e.dependencies[i];if("string"==typeof o){if(void 0===t[o]&&(n=this.createError(a.ERROR_CODES.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(o)){var u=0,s=o.lenth;for(u=0;u<s;u++){var c=o[u];if(void 0===t[c]&&(n=this.createError(a.ERROR_CODES.OBJECT_DEPENDENCY_KEY,{key:i,missing:c}).prefixWith(null,""+u).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}}else if(n=this.validateAll(t,o,[],["dependencies",i],r))return n}return null}},{key:"validateCombinations",value:function(t,e,r){return this.validateAllOf(t,e,r)||this.validateAnyOf(t,e,r)||this.validateOneOf(t,e,r)||this.validateNot(t,e,r)||null}},{key:"validateAllOf",value:function(t,e,r){if(void 0===e.allOf)return null;var n=void 0,i=0,o=e.allOf.length;for(i=0;i<o;i++){var a=e.allOf[i];if(n=this.validateAll(t,a,[],["allOf",i],r))return n}return null}},{key:"validateAnyOf",value:function(t,e,r){if(void 0===e.anyOf)return null;var n=[],i=this.errors.length,o=void 0,u=void 0;this.trackUnknownProperties&&(o=this.unknownPropertyPaths,u=this.knownPropertyPaths);var s=!0,c=0,l=e.anyOf.length;for(c=0;c<l;c++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var f=e.anyOf[c],h=this.errors.length,d=this.validateAll(t,f,[],["anyOf",c],r);if(null===d&&h===this.errors.length){if(this.errors=this.errors.slice(0,i),this.trackUnknownProperties){for(var p in this.knownPropertyPaths)u[p]=!0,delete o[p];for(var y in this.unknownPropertyPaths)u[y]||(o[y]=!0);s=!1;continue}return null}d&&n.push(d.prefixWith(null,""+c).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=o,this.knownPropertyPaths=u),s?(n=n.concat(this.errors.slice(i)),this.errors=this.errors.slice(0,i),this.createError(a.ERROR_CODES.ANY_OF_MISSING,{},"","/anyOf",n)):void 0}},{key:"validateOneOf",value:function(t,e,r){if(void 0===e.oneOf)return null;var n=null,i=[],o=this.errors.length,u=void 0,s=void 0;this.trackUnknownProperties&&(u=this.unknownPropertyPaths,s=this.knownPropertyPaths);var c=0,l=e.oneOf.length;for(c=0;c<l;c++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var f=e.oneOf[c],h=this.errors.length,d=this.validateAll(t,f,[],["oneOf",c],r);if(null===d&&h===this.errors.length){if(null!==n)return this.errors=this.errors.slice(0,o),this.createError(a.ERROR_CODES.ONE_OF_MULTIPLE,{index1:n,index2:c},"","/oneOf");if(n=c,this.trackUnknownProperties){for(var p in this.knownPropertyPaths)s[p]=!0,delete u[p];for(var y in this.unknownPropertyPaths)s[y]||(u[y]=!0)}}else d&&i.push(d)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=u,this.knownPropertyPaths=s),null===n?(i=i.concat(this.errors.slice(o)),this.errors=this.errors.slice(0,o),this.createError(a.ERROR_CODES.ONE_OF_MISSING,{},"","/oneOf",i)):(this.errors=this.errors.slice(0,o),null)}},{key:"validateNot",value:function(t,e,r){if(void 0===e.not)return null;var n=this.errors.length,i=void 0,o=void 0;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=this.validateAll(t,e.not,null,null,r),s=this.errors.slice(n);return this.errors=this.errors.slice(0,n),this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),null===u&&0===s.length?this.createError(a.ERROR_CODES.NOT_PASSED,{},"","/not"):null}},{key:"validateHypermedia",value:function(t,e,r){if(!e.links)return null;var n=void 0,i=0,o=e.links.length;for(i=0;i<o;i++){var a=e.links[i];if("describedby"===a.rel){var u=new UriTemplate(a.href),s=!0,c=0,l=u.varNames.length;for(c=0;c<l;c++)if(!(u.varNames[c]in t)){s=!1;break}if(s){var f=u.fillFromObject(t),h={$ref:f};if(n=this.validateAll(t,h,[],["links",i],r))return n}}}}}]),t}();e.default=l=l},function(t,e,r){(function(e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););return t}function i(t,e){return!!(t?t.length:0)&&a(t,e,0)>-1}function o(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function a(t,e,r){if(e!==e)return o(t,u,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function u(t){return t!==t}function s(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&n++;return n}function c(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function f(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];a!==e&&a!==z||(t[r]=z,o[i++]=r)}return o}function h(t){return I(t)?Pt(t):{}}function d(t){return!(!I(t)||P(t))&&(C(t)||l(t)?At:pt).test(T(t))}function p(t,e,r,n){for(var i=-1,o=t.length,a=r.length,u=-1,s=e.length,c=Mt(o-a,0),l=Array(s+c),f=!n;++u<s;)l[u]=e[u];for(;++i<a;)(f||i<o)&&(l[r[i]]=t[i]);for(;c--;)l[u++]=t[i++];return l}function y(t,e,r,n){for(var i=-1,o=t.length,a=-1,u=r.length,s=-1,c=e.length,l=Mt(o-u,0),f=Array(l+c),h=!n;++i<l;)f[i]=t[i];for(var d=i;++s<c;)f[d+s]=e[s];for(;++a<u;)(h||i<o)&&(f[d+r[a]]=t[i++]);return f}function v(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function g(t,e,r){function n(){return(this&&this!==mt&&this instanceof n?o:t).apply(i?r:this,arguments)}var i=e&Y,o=_(t);return n}function _(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=h(t.prototype),n=t.apply(r,e);return I(n)?n:r}}function b(t,e,n){function i(){for(var a=arguments.length,u=Array(a),s=a,c=k(i);s--;)u[s]=arguments[s];var l=a<3&&u[0]!==c&&u[a-1]!==c?[]:f(u,c);return(a-=l.length)<n?O(t,e,m,i.placeholder,void 0,u,l,void 0,void 0,n-a):r(this&&this!==mt&&this instanceof i?o:t,this,u)}var o=_(t);return i}function m(t,e,r,n,i,o,a,u,c,l){function h(){for(var S=arguments.length,j=Array(S),R=S;R--;)j[R]=arguments[R];if(b)var A=k(h),P=s(j,A);if(n&&(j=p(j,n,i,b)),o&&(j=y(j,o,a,b)),S-=P,b&&S<l){var T=f(j,A);return O(t,e,m,h.placeholder,r,j,T,u,c,l-S)}var x=v?r:this,C=g?x[t]:t;return S=j.length,u?j=M(j,u):w&&S>1&&j.reverse(),d&&c<S&&(j.length=c),this&&this!==mt&&this instanceof h&&(C=E||_(C)),C.apply(x,j)}var d=e&X,v=e&Y,g=e&G,b=e&(V|H),w=e&Q,E=g?void 0:_(t);return h}function w(t,e,n,i){function o(){for(var e=-1,s=arguments.length,c=-1,l=i.length,f=Array(l+s),h=this&&this!==mt&&this instanceof o?u:t;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++e];return r(h,a?n:this,f)}var a=e&Y,u=_(t);return o}function O(t,e,r,n,i,o,a,u,s,c){var l=e&V,f=l?a:void 0,h=l?void 0:a,d=l?o:void 0,p=l?void 0:o;e|=l?K:J,(e&=~(l?J:K))&W||(e&=~(Y|G));var y=r(t,e,i,d,f,p,h,u,s,c);return y.placeholder=n,Ct(y,t,e)}function E(t,e,r,n,i,o,a,u){var s=e&G;if(!s&&"function"!=typeof t)throw new TypeError($);var c=n?n.length:0;if(c||(e&=~(K|J),n=i=void 0),a=void 0===a?a:Mt(D(a),0),u=void 0===u?u:D(u),c-=i?i.length:0,e&J){var l=n,f=i;n=i=void 0}var h=[t,e,r,n,i,l,f,o,a,u];if(t=h[0],e=h[1],r=h[2],n=h[3],i=h[4],u=h[9]=null==h[9]?s?0:t.length:Mt(h[9]-c,0),!u&&e&(V|H)&&(e&=~(V|H)),e&&e!=Y)d=e==V||e==H?b(t,e,u):e!=K&&e!=(Y|K)||i.length?m.apply(void 0,h):w(t,e,r,n);else var d=g(t,e,r);return Ct(d,t,e)}function k(t){return t.placeholder}function S(t,e){var r=c(t,e);return d(r)?r:void 0}function j(t){var e=t.match(lt);return e?e[1].split(ft):[]}function R(t,e){var r=e.length,n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}function A(t,e){return!!(e=null==e?tt:e)&&("number"==typeof t||vt.test(t))&&t>-1&&t%1==0&&t<e}function P(t){return!!kt&&kt in t}function M(t,e){for(var r=t.length,n=Tt(e.length,r),i=v(t);n--;){var o=e[n];t[n]=A(o,r)?i[o]:void 0}return t}function T(t){if(null!=t){try{return St.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function x(t,e){return n(nt,function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)}),t.sort()}function C(t){var e=I(t)?Rt.call(t):"";return e==it||e==ot}function I(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function U(t){return!!t&&"object"==typeof t}function N(t){return"symbol"==typeof t||U(t)&&Rt.call(t)==at}function L(t){return t?(t=B(t))===Z||t===-Z?(t<0?-1:1)*et:t===t?t:0:0===t?t:0}function D(t){var e=L(t),r=e%1;return e===e?r?e-r:e:0}function B(t){if("number"==typeof t)return t;if(N(t))return rt;if(I(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=I(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(st,"");var r=dt.test(t);return r||yt.test(t)?gt(t.slice(2),r?2:8):ht.test(t)?rt:+t}function F(t){return function(){return t}}function q(t){return t}var $="Expected a function",z="__lodash_placeholder__",Y=1,G=2,W=4,V=8,H=16,K=32,J=64,X=128,Q=512,Z=1/0,tt=9007199254740991,et=1.7976931348623157e308,rt=NaN,nt=[["ary",X],["bind",Y],["bindKey",G],["curry",V],["curryRight",H],["flip",Q],["partial",K],["partialRight",J],["rearg",256]],it="[object Function]",ot="[object GeneratorFunction]",at="[object Symbol]",ut=/[\\^$.*+?()[\]{}|]/g,st=/^\s+|\s+$/g,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,ht=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,pt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,gt=parseInt,_t="object"==typeof e&&e&&e.Object===Object&&e,bt="object"==typeof self&&self&&self.Object===Object&&self,mt=_t||bt||Function("return this")(),wt=Function.prototype,Ot=Object.prototype,Et=mt["__core-js_shared__"],kt=function(){var t=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),St=wt.toString,jt=Ot.hasOwnProperty,Rt=Ot.toString,At=RegExp("^"+St.call(jt).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=Object.create,Mt=Math.max,Tt=Math.min,xt=function(){var t=S(Object,"defineProperty"),e=S.name;return e&&e.length>2?t:void 0}(),Ct=xt?function(t,e,r){var n=e+"";return xt(t,"toString",{configurable:!0,enumerable:!1,value:F(R(n,x(j(n),r)))})}:q,It=function(t,e){return e=Mt(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=Mt(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=n[i];return u[e]=a,r(t,this,u)}}(function(t,e,r){var n=Y;if(r.length){var i=f(r,k(It));n|=K}return E(t,n,e,r,i)});It.placeholder={},t.exports=It}).call(e,r(0))},function(t,e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function i(t,e){var r=C(t)||y(t)?n(t.length,String):[],i=r.length,o=!!i;for(var a in t)!e&&!P.call(t,a)||o&&("length"==a||l(a,i))||r.push(a);return r}function o(t,e,r,n){return void 0===t||p(t,A[r])&&!P.call(n,r)?e:t}function a(t,e,r){var n=t[e];P.call(t,e)&&p(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function u(t){if(!m(t))return d(t);var e=h(t),r=[];for(var n in t)("constructor"!=n||!e&&P.call(t,n))&&r.push(n);return r}function s(t,e){return e=x(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=x(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=n[i];return u[e]=a,r(t,this,u)}}function c(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var u=e[i],s=n?n(r[u],t[u],u,r,t):void 0;a(r,u,void 0===s?t[u]:s)}return r}function l(t,e){return!!(e=null==e?E:e)&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<e}function f(t,e,r){if(!m(r))return!1;var n=typeof e;return!!("number"==n?v(r)&&l(e,r.length):"string"==n&&e in r)&&p(r[e],t)}function h(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||A)}function d(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function p(t,e){return t===e||t!==t&&e!==e}function y(t){return g(t)&&P.call(t,"callee")&&(!T.call(t,"callee")||M.call(t)==k)}function v(t){return null!=t&&b(t.length)&&!_(t)}function g(t){return w(t)&&v(t)}function _(t){var e=m(t)?M.call(t):"";return e==S||e==j}function b(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function O(t){return v(t)?i(t,!0):u(t)}var E=9007199254740991,k="[object Arguments]",S="[object Function]",j="[object GeneratorFunction]",R=/^(?:0|[1-9]\d*)$/,A=Object.prototype,P=A.hasOwnProperty,M=A.toString,T=A.propertyIsEnumerable,x=Math.max,C=Array.isArray,I=function(t){return s(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&f(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var u=r[n];u&&t(e,u,n,o)}return e})}(function(t,e,r,n){c(e,O(e),t,n)}),U=s(function(t){return t.push(void 0,o),r(I,void 0,t)});t.exports=U},function(t,e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e,r){if("function"!=typeof t)throw new TypeError(i);return setTimeout(function(){t.apply(void 0,r)},e)}var i="Expected a function",o=Math.max,a=function(t,e){return e=o(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=o(n.length-e,0),u=Array(a);++i<a;)u[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=u,r(t,this,s)}}(function(t,e){return n(t,1,e)});t.exports=a},function(t,e,r){(function(e){function r(t){if("string"==typeof t)return t;if(i(t))return m?m.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}function n(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||n(t)&&g.call(t)==s}function o(t){return null==t?"":r(t)}function a(t){return t=o(t),t&&l.test(t)?t.replace(c,y):t}var u=1/0,s="[object Symbol]",c=/[&<>"'`]/g,l=RegExp(c.source),f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},h="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,p=h||d||Function("return this")(),y=function(t){return function(e){return null==t?void 0:t[e]}}(f),v=Object.prototype,g=v.toString,_=p.Symbol,b=_?_.prototype:void 0,m=b?b.toString:void 0;t.exports=a}).call(e,r(0))},function(t,e,r){(function(e){function r(t,e){return null==t?void 0:t[e]}function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function i(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function o(){this.__data__=jt?jt(null):{}}function a(t){return this.has(t)&&delete this.__data__[t]}function u(t){var e=this.__data__;if(jt){var r=e[t];return r===K?void 0:r}return bt.call(e,t)?e[t]:void 0}function s(t){var e=this.__data__;return jt?void 0!==e[t]:bt.call(e,t)}function c(t,e){return this.__data__[t]=jt&&void 0===e?K:e,this}function l(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function f(){this.__data__=[]}function h(t){var e=this.__data__,r=O(e,t);return!(r<0||(r==e.length-1?e.pop():kt.call(e,r,1),0))}function d(t){var e=this.__data__,r=O(e,t);return r<0?void 0:e[r][1]}function p(t){return O(this.__data__,t)>-1}function y(t,e){var r=this.__data__,n=O(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function v(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function g(){this.__data__={hash:new i,map:new(St||l),string:new i}}function _(t){return R(this,t).delete(t)}function b(t){return R(this,t).get(t)}function m(t){return R(this,t).has(t)}function w(t,e){return R(this,t).set(t,e),this}function O(t,e){for(var r=t.length;r--;)if(L(t[r][0],e))return r;return-1}function E(t,e){return null!=t&&bt.call(t,e)}function k(t){return!(!z(t)||C(t))&&(q(t)||n(t)?wt:st).test(U(t))}function S(t){if("string"==typeof t)return t;if(G(t))return At?At.call(t):"";var e=t+"";return"0"==e&&1/t==-J?"-0":e}function j(t){return Mt(t)?t:Pt(t)}function R(t,e){var r=t.__data__;return x(e)?r["string"==typeof e?"string":"hash"]:r.map}function A(t,e){var n=r(t,e);return k(n)?n:void 0}function P(t,e,r){e=T(e,t)?[e]:j(e);for(var n,i=-1,o=e.length;++i<o;){var a=I(e[i]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;var o=t?t.length:0;return!!o&&$(o)&&M(a,o)&&(Mt(t)||D(t))}function M(t,e){return!!(e=null==e?X:e)&&("number"==typeof t||ct.test(t))&&t>-1&&t%1==0&&t<e}function T(t,e){if(Mt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!G(t))||nt.test(t)||!rt.test(t)||null!=e&&t in Object(e)}function x(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function C(t){return!!gt&&gt in t}function I(t){if("string"==typeof t||G(t))return t;var e=t+"";return"0"==e&&1/t==-J?"-0":e}function U(t){if(null!=t){try{return _t.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function N(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(H);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(N.Cache||v),r}function L(t,e){return t===e||t!==t&&e!==e}function D(t){return F(t)&&bt.call(t,"callee")&&(!Et.call(t,"callee")||mt.call(t)==Q)}function B(t){return null!=t&&$(t.length)&&!q(t)}function F(t){return Y(t)&&B(t)}function q(t){var e=z(t)?mt.call(t):"";return e==Z||e==tt}function $(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=X}function z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Y(t){return!!t&&"object"==typeof t}function G(t){return"symbol"==typeof t||Y(t)&&mt.call(t)==et}function W(t){return null==t?"":S(t)}function V(t,e){return null!=t&&P(t,e,E)}var H="Expected a function",K="__lodash_hash_undefined__",J=1/0,X=9007199254740991,Q="[object Arguments]",Z="[object Function]",tt="[object GeneratorFunction]",et="[object Symbol]",rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/^\./,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,at=/[\\^$.*+?()[\]{}|]/g,ut=/\\(\\)?/g,st=/^\[object .+?Constructor\]$/,ct=/^(?:0|[1-9]\d*)$/,lt="object"==typeof e&&e&&e.Object===Object&&e,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=lt||ft||Function("return this")(),dt=Array.prototype,pt=Function.prototype,yt=Object.prototype,vt=ht["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_t=pt.toString,bt=yt.hasOwnProperty,mt=yt.toString,wt=RegExp("^"+_t.call(bt).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=ht.Symbol,Et=yt.propertyIsEnumerable,kt=dt.splice,St=A(ht,"Map"),jt=A(Object,"create"),Rt=Ot?Ot.prototype:void 0,At=Rt?Rt.toString:void 0;i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=u,i.prototype.has=s,i.prototype.set=c,l.prototype.clear=f,l.prototype.delete=h,l.prototype.get=d,l.prototype.has=p,l.prototype.set=y,v.prototype.clear=g,v.prototype.delete=_,v.prototype.get=b,v.prototype.has=m,v.prototype.set=w;var Pt=N(function(t){t=W(t);var e=[];return it.test(t)&&e.push(""),t.replace(ot,function(t,r,n,i){e.push(n?i.replace(ut,"$1"):r||t)}),e});N.Cache=v;var Mt=Array.isArray;t.exports=V}).call(e,r(0))},function(t,e,r){(function(t,r){function n(t,e){return null==t?void 0:t[e]}function i(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function o(t){return F.call(t)}function a(t){return!(!g(t)||s(t))&&(y(t)||i(t)?q:R).test(l(t))}function u(t,e){var r=n(t,e);return a(r)?r:void 0}function s(t){return!!L&&L in t}function c(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||U)}function l(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function f(t){return d(t)&&B.call(t,"callee")&&(!z.call(t,"callee")||F.call(t)==w)}function h(t){return null!=t&&v(t.length)&&!y(t)}function d(t){return _(t)&&h(t)}function p(t){if(h(t)&&(it(t)||"string"==typeof t||"function"==typeof t.splice||ot(t)||f(t)))return!t.length;var e=nt(t);if(e==k||e==S)return!t.size;if(X||c(t))return!G(t).length;for(var r in t)if(B.call(t,r))return!1;return!0}function y(t){var e=g(t)?F.call(t):"";return e==O||e==E}function v(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=m}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){return!!t&&"object"==typeof t}function b(){return!1}var m=9007199254740991,w="[object Arguments]",O="[object Function]",E="[object GeneratorFunction]",k="[object Map]",S="[object Set]",j=/[\\^$.*+?()[\]{}|]/g,R=/^\[object .+?Constructor\]$/,A="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,M=A||P||Function("return this")(),T="object"==typeof e&&e&&!e.nodeType&&e,x=T&&"object"==typeof r&&r&&!r.nodeType&&r,C=x&&x.exports===T,I=Function.prototype,U=Object.prototype,N=M["__core-js_shared__"],L=function(){var t=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),D=I.toString,B=U.hasOwnProperty,F=U.toString,q=RegExp("^"+D.call(B).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=C?M.Buffer:void 0,z=U.propertyIsEnumerable,Y=$?$.isBuffer:void 0,G=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),W=u(M,"DataView"),V=u(M,"Map"),H=u(M,"Promise"),K=u(M,"Set"),J=u(M,"WeakMap"),X=!z.call({valueOf:1},"valueOf"),Q=l(W),Z=l(V),tt=l(H),et=l(K),rt=l(J),nt=o;(W&&"[object DataView]"!=nt(new W(new ArrayBuffer(1)))||V&&nt(new V)!=k||H&&"[object Promise]"!=nt(H.resolve())||K&&nt(new K)!=S||J&&"[object WeakMap]"!=nt(new J))&&(nt=function(t){var e=F.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?l(r):void 0;if(n)switch(n){case Q:return"[object DataView]";case Z:return k;case tt:return"[object Promise]";case et:return S;case rt:return"[object WeakMap]"}return e});var it=Array.isArray,ot=Y||b;r.exports=p}).call(e,r(0),r(2)(t))},function(t,e,r){(function(t,r){function n(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function i(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function o(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function a(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function u(t,e){return t.has(e)}function s(t,e){return null==t?void 0:t[e]}function c(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function l(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function f(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function h(){this.__data__=ke?ke(null):{},this.size=0}function d(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function p(t){var e=this.__data__;if(ke){var r=e[t];return r===_t?void 0:r}return ae.call(e,t)?e[t]:void 0}function y(t){var e=this.__data__;return ke?void 0!==e[t]:ae.call(e,t)}function v(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ke&&void 0===e?_t:e,this}function g(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _(){this.__data__=[],this.size=0}function b(t){var e=this.__data__,r=B(e,t);return!(r<0||(r==e.length-1?e.pop():pe.call(e,r,1),--this.size,0))}function m(t){var e=this.__data__,r=B(e,t);return r<0?void 0:e[r][1]}function w(t){return B(this.__data__,t)>-1}function O(t,e){var r=this.__data__,n=B(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function E(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(){this.size=0,this.__data__={hash:new f,map:new(me||g),string:new f}}function S(t){var e=Q(this,t).delete(t);return this.size-=e?1:0,e}function j(t){return Q(this,t).get(t)}function R(t){return Q(this,t).has(t)}function A(t,e){var r=Q(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function P(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new E;++e<r;)this.add(t[e])}function M(t){return this.__data__.set(t,_t),this}function T(t){return this.__data__.has(t)}function x(t){var e=this.__data__=new g(t);this.size=e.size}function C(){this.__data__=new g,this.size=0}function I(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function U(t){return this.__data__.get(t)}function N(t){return this.__data__.has(t)}function L(t,e){var r=this.__data__;if(r instanceof g){var n=r.__data__;if(!me||n.length<gt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new E(n)}return r.set(t,e),this.size=r.size,this}function D(t,e){var r=Ue(t),n=!r&&Ie(t),i=!r&&!n&&Ne(t),o=!r&&!n&&!i&&Le(t),u=r||n||i||o,s=u?a(t.length,String):[],c=s.length;for(var l in t)!e&&!ae.call(t,l)||u&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||et(l,c))||s.push(l);return s}function B(t,e){for(var r=t.length;r--;)if(ut(t[r][0],e))return r;return-1}function F(t,e,r){var n=e(t);return Ue(t)?n:i(n,r(t))}function q(t){return null==t?void 0===t?Bt:xt:ye&&ye in Object(t)?tt(t):ot(t)}function $(t){return dt(t)&&q(t)==Ot}function z(t,e,r,n,i){return t===e||(null==t||null==e||!dt(t)&&!dt(e)?t!==t&&e!==e:Y(t,e,r,n,z,i))}function Y(t,e,r,n,i,o){var a=Ue(t),u=Ue(e),s=a?Et:Ce(t),c=u?Et:Ce(e);s=s==Ot?Ct:s,c=c==Ot?Ct:c;var l=s==Ct,f=c==Ct,h=s==c;if(h&&Ne(t)){if(!Ne(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new x),a||Le(t)?H(t,e,r,n,i,o):K(t,e,s,r,n,i,o);if(!(r&bt)){var d=l&&ae.call(t,"__wrapped__"),p=f&&ae.call(e,"__wrapped__");if(d||p){var y=d?t.value():t,v=p?e.value():e;return o||(o=new x),i(y,v,r,n,o)}}return!!h&&(o||(o=new x),J(t,e,r,n,i,o))}function G(t){return!(!ht(t)||nt(t))&&(lt(t)?ce:zt).test(at(t))}function W(t){return dt(t)&&ft(t.length)&&!!Gt[q(t)]}function V(t){if(!it(t))return _e(t);var e=[];for(var r in Object(t))ae.call(t,r)&&"constructor"!=r&&e.push(r);return e}function H(t,e,r,n,i,a){var s=r&bt,c=t.length,l=e.length;if(c!=l&&!(s&&l>c))return!1;var f=a.get(t);if(f&&a.get(e))return f==e;var h=-1,d=!0,p=r&mt?new P:void 0;for(a.set(t,e),a.set(e,t);++h<c;){var y=t[h],v=e[h];if(n)var g=s?n(v,y,h,e,t,a):n(y,v,h,t,e,a);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!o(e,function(t,e){if(!u(p,e)&&(y===t||i(y,t,r,n,a)))return p.push(e)})){d=!1;break}}else if(y!==v&&!i(y,v,r,n,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function K(t,e,r,n,i,o,a){switch(r){case qt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ft:return!(t.byteLength!=e.byteLength||!o(new he(t),new he(e)));case St:case jt:case Tt:return ut(+t,+e);case Rt:return t.name==e.name&&t.message==e.message;case Ut:case Lt:return t==e+"";case Mt:var u=c;case Nt:var s=n&bt;if(u||(u=l),t.size!=e.size&&!s)return!1;var f=a.get(t);if(f)return f==e;n|=mt,a.set(t,e);var h=H(u(t),u(e),n,i,o,a);return a.delete(t),h;case Dt:if(Te)return Te.call(t)==Te.call(e)}return!1}function J(t,e,r,n,i,o){var a=r&bt,u=X(t),s=u.length;if(s!=X(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:ae.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<s;){l=u[c];var p=t[l],y=e[l];if(n)var v=a?n(y,p,l,e,t,o):n(p,y,l,t,e,o);if(!(void 0===v?p===y||i(p,y,r,n,o):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return o.delete(t),o.delete(e),h}function X(t){return F(t,pt,xe)}function Q(t,e){var r=t.__data__;return rt(e)?r["string"==typeof e?"string":"hash"]:r.map}function Z(t,e){var r=s(t,e);return G(r)?r:void 0}function tt(t){var e=ae.call(t,ye),r=t[ye];try{t[ye]=void 0;var n=!0}catch(t){}var i=se.call(t);return n&&(e?t[ye]=r:delete t[ye]),i}function et(t,e){return!!(e=null==e?wt:e)&&("number"==typeof t||Yt.test(t))&&t>-1&&t%1==0&&t<e}function rt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function nt(t){return!!ue&&ue in t}function it(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ne)}function ot(t){return se.call(t)}function at(t){if(null!=t){try{return oe.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ut(t,e){return t===e||t!==t&&e!==e}function st(t){return null!=t&&ft(t.length)&&!lt(t)}function ct(t,e){return z(t,e)}function lt(t){if(!ht(t))return!1;var e=q(t);return e==At||e==Pt||e==kt||e==It}function ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=wt}function ht(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function dt(t){return null!=t&&"object"==typeof t}function pt(t){return st(t)?D(t):V(t)}function yt(){return[]}function vt(){return!1}var gt=200,_t="__lodash_hash_undefined__",bt=1,mt=2,wt=9007199254740991,Ot="[object Arguments]",Et="[object Array]",kt="[object AsyncFunction]",St="[object Boolean]",jt="[object Date]",Rt="[object Error]",At="[object Function]",Pt="[object GeneratorFunction]",Mt="[object Map]",Tt="[object Number]",xt="[object Null]",Ct="[object Object]",It="[object Proxy]",Ut="[object RegExp]",Nt="[object Set]",Lt="[object String]",Dt="[object Symbol]",Bt="[object Undefined]",Ft="[object ArrayBuffer]",qt="[object DataView]",$t=/[\\^$.*+?()[\]{}|]/g,zt=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,Gt={};Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt[Ot]=Gt[Et]=Gt[Ft]=Gt[St]=Gt[qt]=Gt[jt]=Gt[Rt]=Gt[At]=Gt[Mt]=Gt[Tt]=Gt[Ct]=Gt[Ut]=Gt[Nt]=Gt[Lt]=Gt["[object WeakMap]"]=!1;var Wt="object"==typeof t&&t&&t.Object===Object&&t,Vt="object"==typeof self&&self&&self.Object===Object&&self,Ht=Wt||Vt||Function("return this")(),Kt="object"==typeof e&&e&&!e.nodeType&&e,Jt=Kt&&"object"==typeof r&&r&&!r.nodeType&&r,Xt=Jt&&Jt.exports===Kt,Qt=Xt&&Wt.process,Zt=function(){try{return Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),te=Zt&&Zt.isTypedArray,ee=Array.prototype,re=Function.prototype,ne=Object.prototype,ie=Ht["__core-js_shared__"],oe=re.toString,ae=ne.hasOwnProperty,ue=function(){var t=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),se=ne.toString,ce=RegExp("^"+oe.call(ae).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=Xt?Ht.Buffer:void 0,fe=Ht.Symbol,he=Ht.Uint8Array,de=ne.propertyIsEnumerable,pe=ee.splice,ye=fe?fe.toStringTag:void 0,ve=Object.getOwnPropertySymbols,ge=le?le.isBuffer:void 0,_e=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),be=Z(Ht,"DataView"),me=Z(Ht,"Map"),we=Z(Ht,"Promise"),Oe=Z(Ht,"Set"),Ee=Z(Ht,"WeakMap"),ke=Z(Object,"create"),Se=at(be),je=at(me),Re=at(we),Ae=at(Oe),Pe=at(Ee),Me=fe?fe.prototype:void 0,Te=Me?Me.valueOf:void 0;f.prototype.clear=h,f.prototype.delete=d,f.prototype.get=p,f.prototype.has=y,f.prototype.set=v,g.prototype.clear=_,g.prototype.delete=b,g.prototype.get=m,g.prototype.has=w,g.prototype.set=O,E.prototype.clear=k,E.prototype.delete=S,E.prototype.get=j,E.prototype.has=R,E.prototype.set=A,P.prototype.add=P.prototype.push=M,P.prototype.has=T,x.prototype.clear=C,x.prototype.delete=I,x.prototype.get=U,x.prototype.has=N,x.prototype.set=L;var xe=ve?function(t){return null==t?[]:(t=Object(t),n(ve(t),function(e){return de.call(t,e)}))}:yt,Ce=q;(be&&Ce(new be(new ArrayBuffer(1)))!=qt||me&&Ce(new me)!=Mt||we&&"[object Promise]"!=Ce(we.resolve())||Oe&&Ce(new Oe)!=Nt||Ee&&"[object WeakMap]"!=Ce(new Ee))&&(Ce=function(t){var e=q(t),r=e==Ct?t.constructor:void 0,n=r?at(r):"";if(n)switch(n){case Se:return qt;case je:return Mt;case Re:return"[object Promise]";case Ae:return Nt;case Pe:return"[object WeakMap]"}return e});var Ie=$(function(){return arguments}())?$:function(t){return dt(t)&&ae.call(t,"callee")&&!de.call(t,"callee")},Ue=Array.isArray,Ne=ge||vt,Le=te?function(t){return function(e){return t(e)}}(te):W;r.exports=ct}).call(e,r(0),r(2)(t))},function(t,e,r){(function(t,r){function n(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););return t}function a(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function u(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function s(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function c(t){return function(e){return null==e?void 0:e[t]}}function l(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function f(t,e){return null==t?void 0:t[e]}function h(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function d(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function p(t,e){return function(r){return t(e(r))}}function y(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function v(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function g(){this.__data__=Mr?Mr(null):{}}function _(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(Mr){var r=e[t];return r===ce?void 0:r}return hr.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return Mr?void 0!==e[t]:hr.call(e,t)}function w(t,e){return this.__data__[t]=Mr&&void 0===e?ce:e,this}function O(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function E(){this.__data__=[]}function k(t){var e=this.__data__,r=G(e,t);return!(r<0||(r==e.length-1?e.pop():wr.call(e,r,1),0))}function S(t){var e=this.__data__,r=G(e,t);return r<0?void 0:e[r][1]}function j(t){return G(this.__data__,t)>-1}function R(t,e){var r=this.__data__,n=G(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function P(){this.__data__={hash:new v,map:new(jr||O),string:new v}}function M(t){return jt(this,t).delete(t)}function T(t){return jt(this,t).get(t)}function x(t){return jt(this,t).has(t)}function C(t,e){return jt(this,t).set(t,e),this}function I(t){var e=-1,r=t?t.length:0;for(this.__data__=new A;++e<r;)this.add(t[e])}function U(t){return this.__data__.set(t,ce),this}function N(t){return this.__data__.has(t)}function L(t){this.__data__=new O(t)}function D(){this.__data__=new O}function B(t){return this.__data__.delete(t)}function F(t){return this.__data__.get(t)}function q(t){return this.__data__.has(t)}function $(t,e){var r=this.__data__;if(r instanceof O){var n=r.__data__;if(!jr||n.length<ue-1)return n.push([t,e]),this;r=this.__data__=new A(n)}return r.set(t,e),this}function z(t,e){var r=$r(t)||Yt(t)?l(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!hr.call(t,o)||i&&("length"==o||Ct(o,n))||r.push(o);return r}function Y(t,e,r){var n=t[e];hr.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function G(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function W(t,e){return t&&mt(e,ee(e),t)}function V(t,e,r,n,i,a,u){var s;if(n&&(s=a?n(t,i,a,u):n(t)),void 0!==s)return s;if(!Kt(t))return t;var c=$r(t);if(c){if(s=Mt(t),!e)return bt(t,s)}else{var l=Fr(t),f=l==be||l==me;if(zr(t))return ft(t,e);if(l==Ee||l==pe||f&&!a){if(h(t))return a?t:{};if(s=Tt(f?{}:t),!e)return wt(t,W(s,t))}else{if(!Je[l])return a?t:{};s=xt(t,l,V,e)}}u||(u=new L);var d=u.get(t);if(d)return d;if(u.set(t,s),!c)var p=r?St(t):ee(t);return o(p||t,function(i,o){p&&(o=i,i=t[o]),Y(s,o,V(i,e,r,n,o,t,u))}),s}function H(t){return Kt(t)?br(t):{}}function K(t,e){e=It(e,t)?[e]:lt(e);for(var r=0,n=e.length;null!=t&&r<n;)t=t[Ft(e[r++])];return r&&r==n?t:void 0}function J(t,e,r){var n=e(t);return $r(t)?n:a(n,r(t))}function X(t){return dr.call(t)}function Q(t,e){return null!=t&&e in Object(t)}function Z(t,e,r,n,i){return t===e||(null==t||null==e||!Kt(t)&&!Jt(e)?t!==t&&e!==e:tt(t,e,Z,r,n,i))}function tt(t,e,r,n,i,o){var a=$r(t),u=$r(e),s=ye,c=ye;a||(s=Fr(t),s=s==pe?Ee:s),u||(c=Fr(e),c=c==pe?Ee:c);var l=s==Ee&&!h(t),f=c==Ee&&!h(e),d=s==c;if(d&&!l)return o||(o=new L),a||Yr(t)?Ot(t,e,r,n,i,o):Et(t,e,s,r,n,i,o);if(!(i&fe)){var p=l&&hr.call(t,"__wrapped__"),y=f&&hr.call(e,"__wrapped__");if(p||y){var v=p?t.value():t,g=y?e.value():e;return o||(o=new L),r(v,g,n,i,o)}}return!!d&&(o||(o=new L),kt(t,e,r,n,i,o))}function et(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=Object(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){u=r[i];var s=u[0],c=t[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var f=new L;if(n)var h=n(c,l,s,t,e,f);if(!(void 0===h?Z(l,c,n,le|fe,f):h))return!1}}return!0}function rt(t){return!(!Kt(t)||Nt(t))&&(Vt(t)||h(t)?pr:Ve).test(qt(t))}function nt(t){return Jt(t)&&Ht(t.length)&&!!Ke[dr.call(t)]}function it(t){return"function"==typeof t?t:null==t?re:"object"==typeof t?$r(t)?ut(t[0],t[1]):at(t):ie(t)}function ot(t){if(!Lt(t))return kr(t);var e=[];for(var r in Object(t))hr.call(t,r)&&"constructor"!=r&&e.push(r);return e}function at(t){var e=Rt(t);return 1==e.length&&e[0][2]?Bt(e[0][0],e[0][1]):function(r){return r===t||et(r,t,e)}}function ut(t,e){return It(t)&&Dt(e)?Bt(Ft(t),e):function(r){var n=Zt(r,t);return void 0===n&&n===e?te(r,t):Z(e,n,void 0,le|fe)}}function st(t){return function(e){return K(e,t)}}function ct(t){if("string"==typeof t)return t;if(Xt(t))return Dr?Dr.call(t):"";var e=t+"";return"0"==e&&1/t==-he?"-0":e}function lt(t){return $r(t)?t:qr(t)}function ft(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function ht(t){var e=new t.constructor(t.byteLength);return new gr(e).set(new gr(t)),e}function dt(t,e){var r=e?ht(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function pt(t,e,r){return u(e?r(d(t),!0):d(t),n,new t.constructor)}function yt(t){var e=new t.constructor(t.source,We.exec(t));return e.lastIndex=t.lastIndex,e}function vt(t,e,r){return u(e?r(y(t),!0):y(t),i,new t.constructor)}function gt(t){return Lr?Object(Lr.call(t)):{}}function _t(t,e){var r=e?ht(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function bt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function mt(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],u=n?n(r[a],t[a],a,r,t):void 0;Y(r,a,void 0===u?t[a]:u)}return r}function wt(t,e){return mt(t,Br(t),e)}function Ot(t,e,r,n,i,o){var a=i&fe,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var f=-1,h=!0,d=i&le?new I:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],y=e[f];if(n)var v=a?n(y,p,f,e,t,o):n(p,y,f,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!s(e,function(t,e){if(!d.has(e)&&(p===t||r(p,t,n,i,o)))return d.add(e)})){h=!1;break}}else if(p!==y&&!r(p,y,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Et(t,e,r,n,i,o,a){switch(r){case Me:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Pe:return!(t.byteLength!=e.byteLength||!n(new gr(t),new gr(e)));case ve:case ge:case Oe:return zt(+t,+e);case _e:return t.name==e.name&&t.message==e.message;case ke:case je:return t==e+"";case we:var u=d;case Se:var s=o&fe;if(u||(u=y),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;o|=le,a.set(t,e);var l=Ot(u(t),u(e),n,i,o,a);return a.delete(t),l;case Re:if(Lr)return Lr.call(t)==Lr.call(e)}return!1}function kt(t,e,r,n,i,o){var a=i&fe,u=ee(t),s=u.length;if(s!=ee(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:hr.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<s;){l=u[c];var p=t[l],y=e[l];if(n)var v=a?n(y,p,l,e,t,o):n(p,y,l,t,e,o);if(!(void 0===v?p===y||r(p,y,n,i,o):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return o.delete(t),o.delete(e),h}function St(t){return J(t,ee,Br)}function jt(t,e){var r=t.__data__;return Ut(e)?r["string"==typeof e?"string":"hash"]:r.map}function Rt(t){for(var e=ee(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Dt(i)]}return e}function At(t,e){var r=f(t,e);return rt(r)?r:void 0}function Pt(t,e,r){e=It(e,t)?[e]:lt(e);for(var n,i=-1,o=e.length;++i<o;){var a=Ft(e[i]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;var o=t?t.length:0;return!!o&&Ht(o)&&Ct(a,o)&&($r(t)||Yt(t))}function Mt(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&hr.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Tt(t){return"function"!=typeof t.constructor||Lt(t)?{}:H(_r(t))}function xt(t,e,r,n){var i=t.constructor;switch(e){case Pe:return ht(t);case ve:case ge:return new i(+t);case Me:return dt(t,n);case Te:case xe:case Ce:case Ie:case Ue:case Ne:case Le:case De:case Be:return _t(t,n);case we:return pt(t,n,r);case Oe:case je:return new i(t);case ke:return yt(t);case Se:return vt(t,n,r);case Re:return gt(t)}}function Ct(t,e){return!!(e=null==e?de:e)&&("number"==typeof t||He.test(t))&&t>-1&&t%1==0&&t<e}function It(t,e){if($r(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Xt(t))||qe.test(t)||!Fe.test(t)||null!=e&&t in Object(e)}function Ut(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Nt(t){return!!lr&&lr in t}function Lt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sr)}function Dt(t){return t===t&&!Kt(t)}function Bt(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}function Ft(t){if("string"==typeof t||Xt(t))return t;var e=t+"";return"0"==e&&1/t==-he?"-0":e}function qt(t){if(null!=t){try{return fr.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $t(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(se);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new($t.Cache||A),r}function zt(t,e){return t===e||t!==t&&e!==e}function Yt(t){return Wt(t)&&hr.call(t,"callee")&&(!mr.call(t,"callee")||dr.call(t)==pe)}function Gt(t){return null!=t&&Ht(t.length)&&!Vt(t)}function Wt(t){return Jt(t)&&Gt(t)}function Vt(t){var e=Kt(t)?dr.call(t):"";return e==be||e==me}function Ht(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=de}function Kt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Jt(t){return!!t&&"object"==typeof t}function Xt(t){return"symbol"==typeof t||Jt(t)&&dr.call(t)==Re}function Qt(t){return null==t?"":ct(t)}function Zt(t,e,r){var n=null==t?void 0:K(t,e);return void 0===n?r:n}function te(t,e){return null!=t&&Pt(t,e,Q)}function ee(t){return Gt(t)?z(t):ot(t)}function re(t){return t}function ne(t){return it("function"==typeof t?t:V(t,!0))}function ie(t){return It(t)?c(Ft(t)):st(t)}function oe(){return[]}function ae(){return!1}var ue=200,se="Expected a function",ce="__lodash_hash_undefined__",le=1,fe=2,he=1/0,de=9007199254740991,pe="[object Arguments]",ye="[object Array]",ve="[object Boolean]",ge="[object Date]",_e="[object Error]",be="[object Function]",me="[object GeneratorFunction]",we="[object Map]",Oe="[object Number]",Ee="[object Object]",ke="[object RegExp]",Se="[object Set]",je="[object String]",Re="[object Symbol]",Ae="[object WeakMap]",Pe="[object ArrayBuffer]",Me="[object DataView]",Te="[object Float32Array]",xe="[object Float64Array]",Ce="[object Int8Array]",Ie="[object Int16Array]",Ue="[object Int32Array]",Ne="[object Uint8Array]",Le="[object Uint8ClampedArray]",De="[object Uint16Array]",Be="[object Uint32Array]",Fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qe=/^\w*$/,$e=/^\./,ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ye=/[\\^$.*+?()[\]{}|]/g,Ge=/\\(\\)?/g,We=/\w*$/,Ve=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,Ke={};Ke[Te]=Ke[xe]=Ke[Ce]=Ke[Ie]=Ke[Ue]=Ke[Ne]=Ke[Le]=Ke[De]=Ke[Be]=!0,Ke[pe]=Ke[ye]=Ke[Pe]=Ke[ve]=Ke[Me]=Ke[ge]=Ke[_e]=Ke[be]=Ke[we]=Ke[Oe]=Ke[Ee]=Ke[ke]=Ke[Se]=Ke[je]=Ke[Ae]=!1;var Je={};Je[pe]=Je[ye]=Je[Pe]=Je[Me]=Je[ve]=Je[ge]=Je[Te]=Je[xe]=Je[Ce]=Je[Ie]=Je[Ue]=Je[we]=Je[Oe]=Je[Ee]=Je[ke]=Je[Se]=Je[je]=Je[Re]=Je[Ne]=Je[Le]=Je[De]=Je[Be]=!0,Je[_e]=Je[be]=Je[Ae]=!1;var Xe="object"==typeof t&&t&&t.Object===Object&&t,Qe="object"==typeof self&&self&&self.Object===Object&&self,Ze=Xe||Qe||Function("return this")(),tr="object"==typeof e&&e&&!e.nodeType&&e,er=tr&&"object"==typeof r&&r&&!r.nodeType&&r,rr=er&&er.exports===tr,nr=rr&&Xe.process,ir=function(){try{return nr&&nr.binding("util")}catch(t){}}(),or=ir&&ir.isTypedArray,ar=Array.prototype,ur=Function.prototype,sr=Object.prototype,cr=Ze["__core-js_shared__"],lr=function(){var t=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),fr=ur.toString,hr=sr.hasOwnProperty,dr=sr.toString,pr=RegExp("^"+fr.call(hr).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yr=rr?Ze.Buffer:void 0,vr=Ze.Symbol,gr=Ze.Uint8Array,_r=p(Object.getPrototypeOf,Object),br=Object.create,mr=sr.propertyIsEnumerable,wr=ar.splice,Or=Object.getOwnPropertySymbols,Er=yr?yr.isBuffer:void 0,kr=p(Object.keys,Object),Sr=At(Ze,"DataView"),jr=At(Ze,"Map"),Rr=At(Ze,"Promise"),Ar=At(Ze,"Set"),Pr=At(Ze,"WeakMap"),Mr=At(Object,"create"),Tr=qt(Sr),xr=qt(jr),Cr=qt(Rr),Ir=qt(Ar),Ur=qt(Pr),Nr=vr?vr.prototype:void 0,Lr=Nr?Nr.valueOf:void 0,Dr=Nr?Nr.toString:void 0;v.prototype.clear=g,v.prototype.delete=_,v.prototype.get=b,v.prototype.has=m,v.prototype.set=w,O.prototype.clear=E,O.prototype.delete=k,O.prototype.get=S,O.prototype.has=j,O.prototype.set=R,A.prototype.clear=P,A.prototype.delete=M,A.prototype.get=T,A.prototype.has=x,A.prototype.set=C,I.prototype.add=I.prototype.push=U,I.prototype.has=N,L.prototype.clear=D,L.prototype.delete=B,L.prototype.get=F,L.prototype.has=q,L.prototype.set=$;var Br=Or?p(Or,Object):oe,Fr=X;(Sr&&Fr(new Sr(new ArrayBuffer(1)))!=Me||jr&&Fr(new jr)!=we||Rr&&"[object Promise]"!=Fr(Rr.resolve())||Ar&&Fr(new Ar)!=Se||Pr&&Fr(new Pr)!=Ae)&&(Fr=function(t){var e=dr.call(t),r=e==Ee?t.constructor:void 0,n=r?qt(r):void 0;if(n)switch(n){case Tr:return Me;case xr:return we;case Cr:return"[object Promise]";case Ir:return Se;case Ur:return Ae}return e});var qr=$t(function(t){t=Qt(t);var e=[];return $e.test(t)&&e.push(""),t.replace(ze,function(t,r,n,i){e.push(n?i.replace(Ge,"$1"):r||t)}),e});$t.Cache=A;var $r=Array.isArray,zr=Er||ae,Yr=or?function(t){return function(e){return t(e)}}(or):nt;r.exports=ne}).call(e,r(0),r(2)(t))},function(t,e,r){(function(e){function r(t,e){return null==t?void 0:t[e]}function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function i(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function o(){this.__data__=yt?yt(null):{}}function a(t){return this.has(t)&&delete this.__data__[t]}function u(t){var e=this.__data__;if(yt){var r=e[t];return r===$?void 0:r}return ct.call(e,t)?e[t]:void 0}function s(t){var e=this.__data__;return yt?void 0!==e[t]:ct.call(e,t)}function c(t,e){return this.__data__[t]=yt&&void 0===e?$:e,this}function l(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function f(){this.__data__=[]}function h(t){var e=this.__data__,r=O(e,t);return!(r<0||(r==e.length-1?e.pop():dt.call(e,r,1),0))}function d(t){var e=this.__data__,r=O(e,t);return r<0?void 0:e[r][1]}function p(t){return O(this.__data__,t)>-1}function y(t,e){var r=this.__data__,n=O(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function v(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function g(){this.__data__={hash:new i,map:new(pt||l),string:new i}}function _(t){return j(this,t).delete(t)}function b(t){return j(this,t).get(t)}function m(t){return j(this,t).has(t)}function w(t,e){return j(this,t).set(t,e),this}function O(t,e){for(var r=t.length;r--;)if(I(t[r][0],e))return r;return-1}function E(t){return!(!N(t)||M(t))&&(U(t)||n(t)?ft:Z).test(x(t))}function k(t){if("string"==typeof t)return t;if(D(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-z?"-0":e}function S(t){return bt(t)?t:_t(t)}function j(t,e){var r=t.__data__;return P(e)?r["string"==typeof e?"string":"hash"]:r.map}function R(t,e){var n=r(t,e);return E(n)?n:void 0}function A(t,e){if(bt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!D(t))||H.test(t)||!V.test(t)||null!=e&&t in Object(e)}function P(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function M(t){return!!ut&&ut in t}function T(t){if("string"==typeof t||D(t))return t;var e=t+"";return"0"==e&&1/t==-z?"-0":e}function x(t){if(null!=t){try{return st.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function C(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(q);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(C.Cache||v),r}function I(t,e){return t===e||t!==t&&e!==e}function U(t){var e=N(t)?lt.call(t):"";return e==Y||e==G}function N(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function L(t){return!!t&&"object"==typeof t}function D(t){return"symbol"==typeof t||L(t)&&lt.call(t)==W}function B(t){return null==t?"":k(t)}function F(t,e,r){e=A(e,t)?[e]:S(e);var n=-1,i=e.length;for(i||(t=void 0,i=1);++n<i;){var o=null==t?void 0:t[T(e[n])];void 0===o&&(n=i,o=r),t=U(o)?o.call(t):o}return t}var q="Expected a function",$="__lodash_hash_undefined__",z=1/0,Y="[object Function]",G="[object GeneratorFunction]",W="[object Symbol]",V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,K=/^\./,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,Q=/\\(\\)?/g,Z=/^\[object .+?Constructor\]$/,tt="object"==typeof e&&e&&e.Object===Object&&e,et="object"==typeof self&&self&&self.Object===Object&&self,rt=tt||et||Function("return this")(),nt=Array.prototype,it=Function.prototype,ot=Object.prototype,at=rt["__core-js_shared__"],ut=function(){var t=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),st=it.toString,ct=ot.hasOwnProperty,lt=ot.toString,ft=RegExp("^"+st.call(ct).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=rt.Symbol,dt=nt.splice,pt=R(rt,"Map"),yt=R(Object,"create"),vt=ht?ht.prototype:void 0,gt=vt?vt.toString:void 0;i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=u,i.prototype.has=s,i.prototype.set=c,l.prototype.clear=f,l.prototype.delete=h,l.prototype.get=d,l.prototype.has=p,l.prototype.set=y,v.prototype.clear=g,v.prototype.delete=_,v.prototype.get=b,v.prototype.has=m,v.prototype.set=w;var _t=C(function(t){t=B(t);var e=[];return K.test(t)&&e.push(""),t.replace(J,function(t,r,n,i){e.push(n?i.replace(Q,"$1"):r||t)}),e});C.Cache=v;var bt=Array.isArray;t.exports=F}).call(e,r(0))},function(t,e,r){(function(t,r){function n(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function i(t){return function(e){return null==e?void 0:e[t]}}function o(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function a(t,e){return null==t?void 0:t[e]}function u(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function s(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function c(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function l(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function f(){this.__data__=$e?$e(null):{}}function h(t){return this.has(t)&&delete this.__data__[t]}function d(t){var e=this.__data__;if($e){var r=e[t];return r===Dt?void 0:r}return Pe.call(e,t)?e[t]:void 0}function p(t){var e=this.__data__;return $e?void 0!==e[t]:Pe.call(e,t)}function y(t,e){return this.__data__[t]=$e&&void 0===e?Dt:e,this}function v(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function g(){this.__data__=[]}function _(t){var e=this.__data__,r=D(e,t);return!(r<0||(r==e.length-1?e.pop():Ue.call(e,r,1),0))}function b(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]}function m(t){return D(this.__data__,t)>-1}function w(t,e){var r=this.__data__,n=D(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function O(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function E(){this.__data__={hash:new l,map:new(De||v),string:new l}}function k(t){return ot(this,t).delete(t)}function S(t){return ot(this,t).get(t)}function j(t){return ot(this,t).has(t)}function R(t,e){return ot(this,t).set(t,e),this}function A(t){var e=-1,r=t?t.length:0;for(this.__data__=new O;++e<r;)this.add(t[e])}function P(t){return this.__data__.set(t,Dt),this}function M(t){return this.__data__.has(t)}function T(t){this.__data__=new v(t)}function x(){this.__data__=new v}function C(t){return this.__data__.delete(t)}function I(t){return this.__data__.get(t)}function U(t){return this.__data__.has(t)}function N(t,e){var r=this.__data__;if(r instanceof v){var n=r.__data__;if(!De||n.length<Nt-1)return n.push([t,e]),this;r=this.__data__=new O(n)}return r.set(t,e),this}function L(t,e){var r=er(t)||Ot(t)?o(t.length,String):[],n=r.length,i=!!n;for(var a in t)!e&&!Pe.call(t,a)||i&&("length"==a||ct(a,n))||r.push(a);return r}function D(t,e){for(var r=t.length;r--;)if(wt(t[r][0],e))return r;return-1}function B(t,e){return t&&Qe(t,e,Ct)}function F(t,e){e=ft(e,t)?[e]:et(e);for(var r=0,n=e.length;null!=t&&r<n;)t=t[gt(e[r++])];return r&&r==n?t:void 0}function q(t){return Me.call(t)}function $(t,e){return null!=t&&e in Object(t)}function z(t,e,r,n,i){return t===e||(null==t||null==e||!Rt(t)&&!At(e)?t!==t&&e!==e:Y(t,e,z,r,n,i))}function Y(t,e,r,n,i,o){var a=er(t),s=er(e),c=Yt,l=Yt;a||(c=Ze(t),c=c==zt?Qt:c),s||(l=Ze(e),l=l==zt?Qt:l);var f=c==Qt&&!u(t),h=l==Qt&&!u(e),d=c==l;if(d&&!f)return o||(o=new T),a||rr(t)?rt(t,e,r,n,i,o):nt(t,e,c,r,n,i,o);if(!(i&Ft)){var p=f&&Pe.call(t,"__wrapped__"),y=h&&Pe.call(e,"__wrapped__");if(p||y){var v=p?t.value():t,g=y?e.value():e;return o||(o=new T),r(v,g,n,i,o)}}return!!d&&(o||(o=new T),it(t,e,r,n,i,o))}function G(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=Object(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){u=r[i];var s=u[0],c=t[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var f=new T;if(n)var h=n(c,l,s,t,e,f);if(!(void 0===h?z(l,c,n,Bt|Ft,f):h))return!1}}return!0}function W(t){return!(!Rt(t)||dt(t))&&(St(t)||u(t)?Te:fe).test(_t(t))}function V(t){return At(t)&&jt(t.length)&&!!de[Me.call(t)]}function H(t){return"function"==typeof t?t:null==t?It:"object"==typeof t?er(t)?X(t[0],t[1]):J(t):Ut(t)}function K(t){if(!pt(t))return Ne(t);var e=[];for(var r in Object(t))Pe.call(t,r)&&"constructor"!=r&&e.push(r);return e}function J(t){var e=at(t);return 1==e.length&&e[0][2]?vt(e[0][0],e[0][1]):function(r){return r===t||G(r,t,e)}}function X(t,e){return ft(t)&&yt(e)?vt(gt(t),e):function(r){var n=Tt(r,t);return void 0===n&&n===e?xt(r,t):z(e,n,void 0,Bt|Ft)}}function Q(t){return function(e){return F(e,t)}}function Z(t,e){var r;return Xe(t,function(t,n,i){return!(r=e(t,n,i))}),!!r}function tt(t){if("string"==typeof t)return t;if(Pt(t))return Je?Je.call(t):"";var e=t+"";return"0"==e&&1/t==-qt?"-0":e}function et(t){return er(t)?t:tr(t)}function rt(t,e,r,i,o,a){var u=o&Ft,s=t.length,c=e.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var f=-1,h=!0,d=o&Bt?new A:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],y=e[f];if(i)var v=u?i(y,p,f,e,t,a):i(p,y,f,t,e,a);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!n(e,function(t,e){if(!d.has(e)&&(p===t||r(p,t,i,o,a)))return d.add(e)})){h=!1;break}}else if(p!==y&&!r(p,y,i,o,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function nt(t,e,r,n,i,o,a){switch(r){case ie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ne:return!(t.byteLength!=e.byteLength||!n(new Ce(t),new Ce(e)));case Gt:case Wt:case Xt:return wt(+t,+e);case Vt:return t.name==e.name&&t.message==e.message;case Zt:case ee:return t==e+"";case Jt:var u=s;case te:var l=o&Ft;if(u||(u=c),t.size!=e.size&&!l)return!1;var f=a.get(t);if(f)return f==e;o|=Bt,a.set(t,e);var h=rt(u(t),u(e),n,i,o,a);return a.delete(t),h;case re:if(Ke)return Ke.call(t)==Ke.call(e)}return!1}function it(t,e,r,n,i,o){var a=i&Ft,u=Ct(t),s=u.length;if(s!=Ct(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:Pe.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<s;){l=u[c];var p=t[l],y=e[l];if(n)var v=a?n(y,p,l,e,t,o):n(p,y,l,t,e,o);if(!(void 0===v?p===y||r(p,y,n,i,o):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return o.delete(t),o.delete(e),h}function ot(t,e){var r=t.__data__;return ht(e)?r["string"==typeof e?"string":"hash"]:r.map}function at(t){for(var e=Ct(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,yt(i)]}return e}function ut(t,e){var r=a(t,e);return W(r)?r:void 0}function st(t,e,r){e=ft(e,t)?[e]:et(e);for(var n,i=-1,o=e.length;++i<o;){var a=gt(e[i]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;var o=t?t.length:0;return!!o&&jt(o)&&ct(a,o)&&(er(t)||Ot(t))}function ct(t,e){return!!(e=null==e?$t:e)&&("number"==typeof t||he.test(t))&&t>-1&&t%1==0&&t<e}function lt(t,e,r){if(!Rt(r))return!1;var n=typeof e;return!!("number"==n?Et(r)&&ct(e,r.length):"string"==n&&e in r)&&wt(r[e],t)}function ft(t,e){if(er(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Pt(t))||ae.test(t)||!oe.test(t)||null!=e&&t in Object(e)}function ht(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function dt(t){return!!Re&&Re in t}function pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Se)}function yt(t){return t===t&&!Rt(t)}function vt(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}function gt(t){if("string"==typeof t||Pt(t))return t;var e=t+"";return"0"==e&&1/t==-qt?"-0":e}function _t(t){if(null!=t){try{return Ae.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function bt(t,e,r){var i=er(t)?n:Z;return r&&lt(t,e,r)&&(e=void 0),i(t,H(e,3))}function mt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Lt);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(mt.Cache||O),r}function wt(t,e){return t===e||t!==t&&e!==e}function Ot(t){return kt(t)&&Pe.call(t,"callee")&&(!Ie.call(t,"callee")||Me.call(t)==zt)}function Et(t){return null!=t&&jt(t.length)&&!St(t)}function kt(t){return At(t)&&Et(t)}function St(t){var e=Rt(t)?Me.call(t):"";return e==Ht||e==Kt}function jt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$t}function Rt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function At(t){return!!t&&"object"==typeof t}function Pt(t){return"symbol"==typeof t||At(t)&&Me.call(t)==re}function Mt(t){return null==t?"":tt(t)}function Tt(t,e,r){var n=null==t?void 0:F(t,e);return void 0===n?r:n}function xt(t,e){return null!=t&&st(t,e,$)}function Ct(t){return Et(t)?L(t):K(t)}function It(t){return t}function Ut(t){return ft(t)?i(gt(t)):Q(t)}var Nt=200,Lt="Expected a function",Dt="__lodash_hash_undefined__",Bt=1,Ft=2,qt=1/0,$t=9007199254740991,zt="[object Arguments]",Yt="[object Array]",Gt="[object Boolean]",Wt="[object Date]",Vt="[object Error]",Ht="[object Function]",Kt="[object GeneratorFunction]",Jt="[object Map]",Xt="[object Number]",Qt="[object Object]",Zt="[object RegExp]",te="[object Set]",ee="[object String]",re="[object Symbol]",ne="[object ArrayBuffer]",ie="[object DataView]",oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/,ue=/^\./,se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ce=/[\\^$.*+?()[\]{}|]/g,le=/\\(\\)?/g,fe=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,de={};de["[object Float32Array]"]=de["[object Float64Array]"]=de["[object Int8Array]"]=de["[object Int16Array]"]=de["[object Int32Array]"]=de["[object Uint8Array]"]=de["[object Uint8ClampedArray]"]=de["[object Uint16Array]"]=de["[object Uint32Array]"]=!0,de[zt]=de[Yt]=de[ne]=de[Gt]=de[ie]=de[Wt]=de[Vt]=de[Ht]=de[Jt]=de[Xt]=de[Qt]=de[Zt]=de[te]=de[ee]=de["[object WeakMap]"]=!1;var pe="object"==typeof t&&t&&t.Object===Object&&t,ye="object"==typeof self&&self&&self.Object===Object&&self,ve=pe||ye||Function("return this")(),ge="object"==typeof e&&e&&!e.nodeType&&e,_e=ge&&"object"==typeof r&&r&&!r.nodeType&&r,be=_e&&_e.exports===ge,me=be&&pe.process,we=function(){try{return me&&me.binding("util")}catch(t){}}(),Oe=we&&we.isTypedArray,Ee=Array.prototype,ke=Function.prototype,Se=Object.prototype,je=ve["__core-js_shared__"],Re=function(){var t=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ae=ke.toString,Pe=Se.hasOwnProperty,Me=Se.toString,Te=RegExp("^"+Ae.call(Pe).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=ve.Symbol,Ce=ve.Uint8Array,Ie=Se.propertyIsEnumerable,Ue=Ee.splice,Ne=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Le=ut(ve,"DataView"),De=ut(ve,"Map"),Be=ut(ve,"Promise"),Fe=ut(ve,"Set"),qe=ut(ve,"WeakMap"),$e=ut(Object,"create"),ze=_t(Le),Ye=_t(De),Ge=_t(Be),We=_t(Fe),Ve=_t(qe),He=xe?xe.prototype:void 0,Ke=He?He.valueOf:void 0,Je=He?He.toString:void 0;l.prototype.clear=f,l.prototype.delete=h,l.prototype.get=d,l.prototype.has=p,l.prototype.set=y,v.prototype.clear=g,v.prototype.delete=_,v.prototype.get=b,v.prototype.has=m,v.prototype.set=w,O.prototype.clear=E,O.prototype.delete=k,O.prototype.get=S,O.prototype.has=j,O.prototype.set=R,A.prototype.add=A.prototype.push=P,A.prototype.has=M,T.prototype.clear=x,T.prototype.delete=C,T.prototype.get=I,T.prototype.has=U,T.prototype.set=N;var Xe=function(t,e){return function(e,r){if(null==e)return e;if(!Et(e))return t(e,r);for(var n=e.length,i=-1,o=Object(e);++i<n&&!1!==r(o[i],i,o););return e}}(B),Qe=function(t){return function(t,e,r){for(var n=-1,i=Object(t),o=r(t),a=o.length;a--;){var u=o[++n];if(!1===e(i[u],u,i))break}return t}}(),Ze=q;(Le&&Ze(new Le(new ArrayBuffer(1)))!=ie||De&&Ze(new De)!=Jt||Be&&"[object Promise]"!=Ze(Be.resolve())||Fe&&Ze(new Fe)!=te||qe&&"[object WeakMap]"!=Ze(new qe))&&(Ze=function(t){var e=Me.call(t),r=e==Qt?t.constructor:void 0,n=r?_t(r):void 0;if(n)switch(n){case ze:return ie;case Ye:return Jt;case Ge:return"[object Promise]";case We:return te;case Ve:return"[object WeakMap]"}return e});var tr=mt(function(t){t=Mt(t);var e=[];return ue.test(t)&&e.push(""),t.replace(se,function(t,r,n,i){e.push(n?i.replace(le,"$1"):r||t)}),e});mt.Cache=O;var er=Array.isArray,rr=Oe?function(t){return function(e){return t(e)}}(Oe):V;r.exports=bt}).call(e,r(0),r(2)(t))}])})},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?p=d.concat(p):v=-1,p.length&&u())}function u(){if(!y){var t=i(a);y=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,y=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(t){f=n}}();var d,p=[],y=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];p.push(new s(t,e)),1!==p.length||y||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);c.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(t){t.end()}var a=r(9),u=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=n;var s=r(7);s.inherits=r(1);var c=r(17),l=r(19);s.inherits(n,c);for(var f=u(l.prototype),h=0;h<f.length;h++){var d=f[h];n.prototype[d]||(n.prototype[d]=l.prototype[d])}Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),a(e,t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.DATABASE=Symbol("database"),n.MEMORY=Symbol("memory"),n.SEARCH=Symbol("search"),e.default=n},function(t,e,r){"use strict";(function(t){function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,r)}function a(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,r,n):"string"==typeof e?l(t,e,r):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function s(t,e,r,n){return u(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}function c(t,e){if(u(e),t=i(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(e,r);t=i(t,n);var a=t.write(e,r);return a!==n&&(t=t.slice(0,a)),t}function f(t,e){var r=e.length<0?0:0|p(e.length);t=i(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function h(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=f(t,e),t}function d(t,e){if(o.isBuffer(e)){var r=0|p(e.length);return t=i(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?i(t,0):f(t,e);if("Buffer"===e.type&&Q(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),o.alloc(+t)}function v(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return M(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,r/=2}var c;if(i){var l=-1;for(c=r;c<u;c++)if(o(t,c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(r+s>u&&(r=u-s),c=r;c>=0;c--){for(var f=!0,h=0;h<s;h++)if(o(t,c+h)!==o(e,h)){f=!1;break}if(f)return c}return-1}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[r+a]=u}return a}function O(t,e,r,n){return H(Y(e,t.length-r),t,r,n)}function E(t,e,r,n){return H(G(e),t,r,n)}function k(t,e,r,n){return E(t,e,r,n)}function S(t,e,r,n){return H(V(e),t,r,n)}function j(t,e,r,n){return H(W(e,t.length-r),t,r,n)}function R(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],a=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=r){var s,c,l,f;switch(u){case 1:o<128&&(a=o);break;case 2:s=t[i+1],128==(192&s)&&(f=(31&o)<<6|63&s)>127&&(a=f);break;case 3:s=t[i+1],c=t[i+2],128==(192&s)&&128==(192&c)&&(f=(15&o)<<12|(63&s)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:s=t[i+1],c=t[i+2],l=t[i+3],128==(192&s)&&128==(192&c)&&128==(192&l)&&(f=(15&o)<<18|(63&s)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=u}return P(n)}function P(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Z));return r}function M(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function x(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=z(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,r,n,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function D(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,i){return i||D(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,i){return i||D(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,r,n,52,8),r+8}function q(t){if(t=$(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function $(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function V(t){return J.toByteArray(q(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function K(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var J=r(34),X=r(36),Q=r(16);e.Buffer=o,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=n(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,r){return a(null,t,e,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,r){return s(null,t,e,r)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=o.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,r,n,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,u=r-e,s=Math.min(a,u),c=this.slice(n,i),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],u=l[f];break}return a<u?-1:u<a?1:0},o.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},o.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},o.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return O(this,t,e,r);case"ascii":return E(this,t,e,r);case"latin1":case"binary":return k(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=o.prototype;else{var i=e-t;n=new o(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},o.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},o.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},o.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),X.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),X.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),X.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),X.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){U(this,t,e,r,Math.pow(2,8*r)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){U(this,t,e,r,Math.pow(2,8*r)-1,0)}var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);U(this,t,e,r,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);U(this,t,e,r,i-1,-i)}var o=r-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},o.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var u=o.isBuffer(t)?t:Y(new o(t,n).toString()),s=u.length;for(a=0;a<r-e;++a)this[a+e]=u[a%s]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,r(0))},function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===v(t)}function n(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"==typeof t}function u(t){return"string"==typeof t}function s(t){return"symbol"==typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===v(t)}function f(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===v(t)}function d(t){return"[object Error]"===v(t)||t instanceof Error}function p(t){return"function"==typeof t}function y(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function v(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=u,e.isSymbol=s,e.isUndefined=c,e.isRegExp=l,e.isObject=f,e.isDate=h,e.isError=d,e.isFunction=p,e.isPrimitive=y,e.isBuffer=t.isBuffer}).call(e,r(6).Buffer)},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(5),a=function(t){return t&&t.__esModule?t:{default:t}}(o),u=function(){function t(e,r,i){n(this,t),this.connected=!1,this.style=r||a.default.DATABASE,this._client=e||null,this.url=i||"",this._db=null,this._collection=null}return i(t,[{key:"getConnection",value:function(){return!1}},{key:"closeConnection",value:function(){}},{key:"insert",value:function(t){}},{key:"remove",value:function(t){}},{key:"update",value:function(t){}},{key:"query",value:function(t,e){return null}},{key:"collection",get:function(){return this._collection},set:function(t){this._collection=t}},{key:"client",get:function(){return this._client}}]),t}();e.default=u},function(t,e,r){"use strict";(function(e){function r(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,u=arguments.length;switch(u){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(u-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=r:t.exports=e.nextTick}).call(e,r(3))},function(t,e,r){function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,r){return a(t,e,r)}var o=r(6),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(n(o,e),e.Buffer=i),n(a,i),i.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,r)},i.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=a(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,r){(function(t){var n=r(44),i=r(52),o=r(35),a=r(25),u=e;u.request=function(e,r){e="string"==typeof e?a.parse(e):i(e);var o=-1===t.location.protocol.search(/^https?:$/)?"http:":"",u=e.protocol||o,s=e.hostname||e.host,c=e.port,l=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?u+"//"+s:"")+(c?":"+c:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new n(e);return r&&f.on("response",r),f},u.get=function(t,e){var r=u.request(t,e);return r.end(),r},u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.STATUS_CODES=o,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(e,r(0))},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(8),c=n(s),l=r(5),f=n(l),h=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,f.default.MEMORY,null));return t._db={},t}return a(e,t),u(e,[{key:"getConnection",value:function(t,e){return this.connected=!0,e&&(this._collection=e),this.url=t,!0}},{key:"closeConnection",value:function(){this._db&&this.connected&&(this.connected=!1,this._db=null,this._collection=null)}},{key:"setCollection",value:function(t){t&&Augmented.isString(t)&&(this._collection=t,this._db[this._collection]={})}},{key:"query",value:function(t,e){var r={};if(this._collection&&this.connected){var n=t;Augmented.isFunction(t)&&(n=t());r=this._db[this._collection][n],e&&e(r)}return r}},{key:"insert",value:function(t,e){var r={};if(!this._collection||!this.connected)throw new Error("no collection defined or not connected.");return this._db[this._collection][this._collection]=t,r=t,e&&e(da),r}}]),e}(c.default);e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(8),c=n(s),l=r(5),f=n(l),h=r(2),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(h),p=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,f.default.DATABASE,null))}return a(e,t),u(e,[{key:"setCollection",value:function(t){t&&d.isString(t)&&(this._collection=this._db.collection(t))}},{key:"getConnection",value:function(t,e){this.connected=!1;var r=this;if(this.client&&!this.connected)return this._client.connect(t,function(n,i){if(n)throw new Error(n);e&&(r._collection=i.collection(e)),r._db=i,r.url=t,r.connected=!0,r.style=f.default.DATABASE}),!0;throw new Error("No client was passed.")}},{key:"closeConnection",value:function(){this._db&&this.connected&&(this._db.close(),this.connected=!1,this._db=null,this._collection=null)}},{key:"query",value:function(t,e){var r={};if(!this._collection||!this.connected)throw new Error("no collection defined or not connected to db.");var n=t;return d.isFunction(t)&&(n=t()),this._collection.find(n).toArray(function(t,n){if(t)throw new Error(t);n&&(r=n),e&&e(r)}),r}},{key:"insert",value:function(t,e){var r={};if(!this._collection||!this.connected)throw new Error("no collection defined or not connected to db.");return Array.isArray(t)?this._collection.insertMany(t,function(t,n){if(t)throw new Error(t);n&&(r=n,e&&e(r))}):this._collection.insertOne(t,function(t,n){if(t)throw new Error(t);n&&(r=n,e&&e(r))}),r}},{key:"update",value:function(t,e,r){if(!this._collection||!this.connected)throw new Error("no collection defined or not connected to db.");var n=t;return d.isFunction(t)&&(n=t()),this.collection.update(n,e,function(t,e){if(t)throw new Error(t)}),r&&r(e),e}},{key:"remove",value:function(t,e){var r={};if(!this._collection||!this.connected)throw new Error("no collection defined or not connected to db.");var n=t;return d.isFunction(t)&&(n=t()),this.collection.remove(n,function(t,r){if(t)throw new Error(t);e&&e()}),r}}]),e}(c.default);e.default=p},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(8),c=n(s),l=r(5),f=n(l),h=function(t){function e(t){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,f.default.DATABASE,null))}return a(e,t),u(e,[{key:"getConnection",value:function(t,e){this.connected=!1;var r=this;if(!this._client||this.connected)throw new Error("No client was passed.");return this._client.ping(function(n,i){if(n)throw new Error(n);r._collection=e,r._db=i,r.url=t,r.connected=!0,r.style=f.default.SEARCH}),this.connected}},{key:"closeConnection",value:function(){this._db&&this.connected&&(this.connected=!1,this._db=null,this._collection=null)}},{key:"query",value:function(t,e){return{}}},{key:"insert",value:function(t,e){return{}}},{key:"update",value:function(t,e,r){return e}},{key:"remove",value:function(t,e){return{}}}]),e}(c.default);e.default=h},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,u,s,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(r=this._events[t],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),r.apply(this,u)}else if(o(r))for(u=Array.prototype.slice.call(arguments,1),c=r.slice(),i=c.length,s=0;s<i;s++)c[s].apply(this,u);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,a,u;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],a=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(u=a;u-- >0;)if(r[u]===e||r[u].listener&&r[u].listener===e){i=u;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";(function(e,n){function i(t){return L.from(t)}function o(t){return L.isBuffer(t)||t instanceof D}function a(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?I(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}function u(t,e){C=C||r(4),t=t||{},this.objectMode=!!t.objectMode,e instanceof C&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&($||($=r(24).StringDecoder),this.decoder=new $(t.encoding),this.encoding=t.encoding)}function s(t){if(C=C||r(4),!(this instanceof s))return new s(t);this._readableState=new u(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),N.call(this)}function c(t,e,r,n,o){var a=t._readableState;if(null===e)a.reading=!1,y(t,a);else{var u;o||(u=f(a,e)),u?t.emit("error",u):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===L.prototype||(e=i(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):l(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?l(t,a,e,!1):_(t,a)):l(t,a,e,!1))):n||(a.reading=!1)}return h(a)}function l(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&v(t)),_(t,e)}function f(t,e){var r;return o(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function h(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function d(t){return t>=W?t=W:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function p(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=d(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function y(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,v(t)}}function v(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(q("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?x(g,t):g(t))}function g(t){q("emit readable"),t.emit("readable"),k(t)}function _(t,e){e.readingMore||(e.readingMore=!0,x(b,t,e))}function b(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(q("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function m(t){return function(){var e=t._readableState;q("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&U(t,"data")&&(e.flowing=!0,k(t))}}function w(t){q("readable nexttick read 0"),t.read(0)}function O(t,e){e.resumeScheduled||(e.resumeScheduled=!0,x(E,t,e))}function E(t,e){e.reading||(q("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(q("flow",e.flowing);e.flowing&&null!==t.read(););}function S(t,e){if(0===e.length)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=j(t,e.buffer,e.decoder),r}function j(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?R(t,e):A(t,e),n}function R(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}function A(t,e){var r=L.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}function P(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,x(M,e,t))}function M(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function T(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var x=r(9);t.exports=s;var C,I=r(16);s.ReadableState=u;var U=(r(15).EventEmitter,function(t,e){return t.listeners(e).length}),N=r(21),L=r(10).Buffer,D=e.Uint8Array||function(){},B=r(7);B.inherits=r(1);var F=r(53),q=void 0;q=F&&F.debuglog?F.debuglog("stream"):function(){};var $,z=r(42),Y=r(20);B.inherits(s,N);var G=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),s.prototype.destroy=Y.destroy,s.prototype._undestroy=Y.undestroy,s.prototype._destroy=function(t,e){this.push(null),e(t)},s.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=L.from(t,e),e=""),r=!0),c(this,t,e,!1,r)},s.prototype.unshift=function(t){return c(this,t,null,!0,!1)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(t){return $||($=r(24).StringDecoder),this._readableState.decoder=new $(t),this._readableState.encoding=t,this};var W=8388608;s.prototype.read=function(t){q("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return q("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?P(this):v(this),null;if(0===(t=p(t,e))&&e.ended)return 0===e.length&&P(this),null;var n=e.needReadable;q("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,q("length less than watermark",n)),e.ended||e.reading?(n=!1,q("reading or ended",n)):n&&(q("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=p(r,e)));var i;return i=t>0?S(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&P(this)),null!==i&&this.emit("data",i),i},s.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(t,e){function r(t,e){q("onunpipe"),t===h&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,o())}function i(){q("onend"),t.end()}function o(){q("cleanup"),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("drain",v),t.removeListener("error",s),t.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",f),h.removeListener("data",u),g=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||v()}function u(e){q("ondata"),_=!1,!1!==t.write(e)||_||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==T(d.pipes,t))&&!g&&(q("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,_=!0),h.pause())}function s(e){q("onerror",e),f(),t.removeListener("error",s),0===U(t,"error")&&t.emit("error",e)}function c(){t.removeListener("finish",l),f()}function l(){q("onfinish"),t.removeListener("close",c),f()}function f(){q("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,q("pipe count=%d opts=%j",d.pipesCount,e);var p=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr,y=p?i:f;d.endEmitted?x(y):h.once("end",y),t.on("unpipe",r);var v=m(h);t.on("drain",v);var g=!1,_=!1;return h.on("data",u),a(t,"error",s),t.once("close",c),t.once("finish",l),t.emit("pipe",h),d.flowing||(q("pipe resume"),h.resume()),t},s.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=T(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},s.prototype.on=function(t,e){var r=N.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&v(this):x(w,this))}return r},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var t=this._readableState;return t.flowing||(q("resume"),t.flowing=!0,O(this,t)),this},s.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(q("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(i){if(q("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){n.push(i)||(r=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<G.length;o++)t.on(G[o],n.emit.bind(n,G[o]));return n._read=function(e){q("wrapped _read",e),r&&(r=!1,t.resume())},n},s._fromList=S}).call(e,r(0),r(3))},function(t,e,r){"use strict";function n(t){this.afterTransform=function(e,r){return i(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&t.push(r),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);u.call(this,t),this._transformState=new n(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,r){a(e,t,r)}):a(e)})}function a(t,e,r){if(e)return t.emit("error",e);null!==r&&void 0!==r&&t.push(r);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=o;var u=r(4),s=r(7);s.inherits=r(1),s.inherits(o,u),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;u.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){"use strict";(function(e,n,i){function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){R(e,t)}}function a(t){return I.from(t)}function u(t){return I.isBuffer(t)||t instanceof U}function s(){}function c(t,e){P=P||r(4),t=t||{},this.objectMode=!!t.objectMode,e instanceof P&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){_(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function l(t){if(P=P||r(4),!(L.call(l,this)||this instanceof P))return new l(t);this._writableState=new c(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),C.call(this)}function f(t,e){var r=new Error("write after end");t.emit("error",r),A(e,r)}function h(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),A(n,o),i=!1),i}function d(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=I.from(e,r)),e}function p(t,e,r,n,i,o){if(!r){var a=d(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var u=e.objectMode?1:n.length;e.length+=u;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,u,n,i,o);return s}function y(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function v(t,e,r,n,i){--e.pendingcb,r?(A(i,n),A(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),S(t,e))}function g(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function _(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(g(r),e)v(t,r,n,e,i);else{var o=O(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(t,r),n?M(b,t,r,o,i):b(t,r,o,i)}}function b(t,e,r,n){r||m(t,e),e.pendingcb--,n(),S(t,e)}function m(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function w(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var u=0,s=!0;r;)i[u]=r,r.isBuf||(s=!1),r=r.next,u+=1;i.allBuffers=s,y(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e)}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(y(t,e,!1,e.objectMode?1:c.length,c,l,f),r=r.next,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function O(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),S(t,e)})}function k(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,A(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function S(t,e){var r=O(e);return r&&(k(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}function j(t,e,r){e.ending=!0,S(t,e),r&&(e.finished?A(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function R(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var A=r(9);t.exports=l;var P,M=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:A;l.WritableState=c;var T=r(7);T.inherits=r(1);var x={deprecate:r(48)},C=r(21),I=r(10).Buffer,U=i.Uint8Array||function(){},N=r(20);T.inherits(l,C),c.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(c.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(t){return!!L.call(this,t)||t&&t._writableState instanceof c}})):L=function(t){return t instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=u(t)&&!n.objectMode;return o&&!I.isBuffer(t)&&(t=a(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=s),n.ended?f(this,r):(o||h(this,n,t,r))&&(n.pendingcb++,i=p(this,n,o,t,e,r)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},l.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},l.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||j(this,n,r)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),l.prototype.destroy=N.destroy,l.prototype._undestroy=N.undestroy,l.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,r(3),r(51).setImmediate,r(0))},function(t,e,r){"use strict";function n(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(n||i)return void(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||a(o,this,t));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(a(o,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(t,e){t.emit("error",e)}var a=r(9);t.exports={destroy:n,undestroy:i}},function(t,e,r){t.exports=r(15).EventEmitter},function(t,e,r){e=t.exports=r(17),e.Stream=e,e.Readable=e,e.Writable=r(19),e.Duplex=r(4),e.Transform=r(18),e.PassThrough=r(41)},function(t,e,r){(function(t){function r(){if(void 0!==o)return o;if(t.XMLHttpRequest){o=new t.XMLHttpRequest;try{o.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){o=null}}else o=null;return o}function n(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function i(t){return"function"==typeof t}e.fetch=i(t.fetch)&&i(t.ReadableStream),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var o,a=void 0!==t.ArrayBuffer,u=a&&i(t.ArrayBuffer.prototype.slice);e.arraybuffer=e.fetch||a&&n("arraybuffer"),e.msstream=!e.fetch&&u&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&a&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&i(r().overrideMimeType),e.vbArray=i(t.VBArray),o=null}).call(e,r(0))},function(t,e,r){"use strict";function n(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=n(t);if("string"!=typeof e&&(_.isEncoding===b||!b(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=h,this.end=d,e=4;break;case"utf8":this.fillLast=c,e=4;break;case"base64":this.text=p,this.end=y,e=3;break;default:return this.write=v,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function u(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r?0:(i=a(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r?0:(i=a(e[n]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0)}function s(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(r);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(r+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(r+2)}}function c(t){var e=this.lastTotal-this.lastNeed,r=s(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){var r=u(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e}function h(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function d(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function p(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function y(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function v(t){return t.toString(this.encoding)}function g(t){return t&&t.length?this.write(t):""}var _=r(10).Buffer,b=_.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=f,o.prototype.text=l,o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&c.isObject(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}function o(t){return c.isString(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function u(t,e){return t?i(t,!1,!0).resolveObject(e):e}var s=r(37),c=r(47);e.parse=i,e.resolve=a,e.resolveObject=u,e.format=o,e.Url=n;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),y=["'"].concat(p),v=["%","/","?",";","#"].concat(y),g=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=r(40);n.prototype.parse=function(t,e,r){if(!c.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(i);var u=t;if(u=u.trim(),!r&&1===t.split("#").length){var f=h.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],this.query=e?E.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=l.exec(u);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,u=u.substr(d.length)}if(r||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===u.substr(0,2);!k||d&&w[d]||(u=u.substr(2),this.slashes=!0)}if(!w[d]&&(k||d&&!O[d])){for(var S=-1,j=0;j<g.length;j++){var R=u.indexOf(g[j]);-1!==R&&(-1===S||R<S)&&(S=R)}var A,P;P=-1===S?u.lastIndexOf("@"):u.lastIndexOf("@",S),-1!==P&&(A=u.slice(0,P),u=u.slice(P+1),this.auth=decodeURIComponent(A)),S=-1;for(var j=0;j<v.length;j++){var R=u.indexOf(v[j]);-1!==R&&(-1===S||R<S)&&(S=R)}-1===S&&(S=u.length),this.host=u.slice(0,S),u=u.slice(S),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var T=this.hostname.split(/\./),j=0,x=T.length;j<x;j++){var C=T[j];if(C&&!C.match(_)){for(var I="",U=0,N=C.length;U<N;U++)C.charCodeAt(U)>127?I+="x":I+=C[U];if(!I.match(_)){var L=T.slice(0,j),D=T.slice(j+1),B=C.match(b);B&&(L.push(B[1]),D.unshift(B[2])),D.length&&(u="/"+D.join(".")+u),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=s.toASCII(this.hostname));var F=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+F,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!m[p])for(var j=0,x=y.length;j<x;j++){var $=y[j];if(-1!==u.indexOf($)){var z=encodeURIComponent($);z===$&&(z=escape($)),u=u.split($).join(z)}}var Y=u.indexOf("#");-1!==Y&&(this.hash=u.substr(Y),u=u.slice(0,Y));var G=u.indexOf("?");if(-1!==G?(this.search=u.substr(G),this.query=u.substr(G+1),e&&(this.query=E.parse(this.query)),u=u.slice(0,G)):e&&(this.search="",this.query={}),u&&(this.pathname=u),O[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",W=this.search||"";this.path=F+W}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||O[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(c.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),s=0;s<u.length;s++){var l=u[s];"protocol"!==l&&(r[l]=t[l])}return O[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!O[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var d=f[h];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||w[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",v=r.search||"";r.path=y+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=_||g||r.host&&t.pathname,m=b,E=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],k=r.protocol&&!O[r.protocol];if(k&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===E[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=t.search,r.query=t.query;else if(!c.isNullOrUndefined(t.search)){if(k){r.hostname=r.host=E.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,c.isNull(r.pathname)&&c.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=E.slice(-1)[0],R=(r.host||t.host||E.length>1)&&("."===j||".."===j)||""===j,A=0,P=E.length;P>=0;P--)j=E[P],"."===j?E.splice(P,1):".."===j?(E.splice(P,1),A++):A&&(E.splice(P,1),A--);if(!b&&!m)for(;A--;A)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),R&&"/"!==E.join("/").substr(-1)&&E.push("");var M=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(k){r.hostname=r.host=M?"":E.length?E.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return b=b||r.host&&E.length,b&&!M&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),c.isNull(r.pathname)&&c.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){function n(t){if("string"==typeof t&&(t=o.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}var i=r(11),o=r(25),a=t.exports;for(var u in i)i.hasOwnProperty(u)&&(a[u]=i[u]);a.request=function(t,e){return t=n(t),i.request.call(this,t,e)},a.get=function(t,e){return t=n(t),i.get.call(this,t,e)}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(2),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),c=function(t){function e(t,r){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return o.name="collection",o._url="",o.query=null,o.datasource=null,o}return o(e,t),a(e,[{key:"initialize",value:function(t){t&&(t.datasource&&(this.datasource=t.datasource),t.query&&(this.query=t.query),t.name&&(this.name=t.name),t.url&&(this.url=t.url)),this.datasource&&""===this.url&&(this.url=this.datasource.url),this.setDataSourceCollection(this.name),this.init(t)}},{key:"init",value:function(t){}},{key:"setDatasource",value:function(t){this.datasource=t}},{key:"sync",value:function(t,e){if(this.datasource){var r=this;try{var n={},i=void 0;"create"===t?(n=this.toJSON(),this.datasource.insert(n,function(){r.reset(n),e&&e.success&&"function"==typeof e.success&&e.success()})):"update"===t?(n=this.toJSON(),i=e&&e.query?e.query:this.query,this.datasource.update(i,n,function(){e&&e.success&&"function"==typeof e.success&&e.success()})):"delete"===t?(i=e&&e.query?e.query:this.query,this.datasource.remove(i,function(){r.reset(),e&&e.success&&"function"==typeof e.success&&e.success()})):(i=e&&e.query?e.query:this.query,this.datasource.query(i,function(t){r.reset(t),e&&e.success&&"function"==typeof e.success&&e.success(t)}))}catch(t){e&&e.error&&"function"==typeof e.error&&e.error(t)}}return{}}},{key:"fetch",value:function(t){this.sync("read",t)}},{key:"save",value:function(t){this.sync("create",t)}},{key:"update",value:function(t){this.sync("update",t)}},{key:"destroy",value:function(t){this.sync("delete",t)}},{key:"setDataSourceCollection",value:function(t){t&&s.isString(t)&&this.datasource&&(this.name=t,this.datasource.setCollection(t))}},{key:"url",get:function(){return this._url},set:function(t){this._url=t}}]),e}(s.AbstractCollection);e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(2),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(s),l=r(11),f=n(l),h=r(26),d=n(h),p=function(t){function e(t,r){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.name="collection",n._url="",n}return a(e,t),u(e,[{key:"sync",value:function(t,e){if(this.url){var r=this,n=void 0,i=void 0;e&&e.success&&"function"==typeof e.success&&(n=e.success),e&&e.error&&"function"==typeof e.error&&(i=e.error);try{var o="function"==typeof this.url?this.url():this.url;if("create"===t){r.attributes;var a={path:o,method:"POST",headers:{"Content-Type":"application/json"}},u=this.secure?d.default:f.default,s=u.request(a,function(t){t.setEncoding("utf8"),t.on("data",function(t){}),t.once("end",function(){n&&n(s.statusCode)})});s.on("error",function(t){i&&i(500,t)}),s.write(r.toJSON()),s.end()}else if("update"===t){r.attributes;var c={path:o,method:"PUT",headers:{"Content-Type":"application/json"}},l=this.secure?d.default:f.default,h=l.request(c,function(t){t.setEncoding("utf8"),t.on("data",function(t){}),t.once("end",function(){n&&n(h.statusCode,h.statusMessage)})});h.on("error",function(t){i&&i(h.statusCode,t)}),h.write(r.toJSON()),h.end()}else if("delete"===t){var p={path:o,method:"DELETE"},y=this.secure?d.default:f.default,v=y.request(p,function(t){t.setEncoding("utf8"),t.once("end",function(){n&&n(v.statusCode,v.statusMessage)})});v.on("error",function(t){i&&i(500,t)}),v.end()}else{var g=this.secure?d.default:f.default;g.get(o,function(t){var e="";t.on("data",function(t){e+=t}),t.statusCode>=200&&t.statusCode<300?t.once("end",function(){var o={};try{o=JSON.parse(e),r.set(o),n&&n(t.statusCode,t.statusMessage)}catch(e){i&&i(t.statusCode,e)}}):i&&i(t.statusCode,t.statusMessage)}).once("error",function(t,e){i&&i(500,t)})}}catch(t){i&&i(500,t)}}return{}}},{key:"fetch",value:function(t){this.sync("read",t)}},{key:"save",value:function(t){this.sync("create",t)}},{key:"update",value:function(t){this.sync("update",t)}},{key:"destroy",value:function(t){this.sync("delete",t)}},{key:"url",get:function(){return this._url},set:function(t){this._url=t}}]),e}(c.AbstractCollection);e.default=p},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(12),u=n(a),s=r(13),c=n(s),l=r(14),f=n(l),h=function(){function t(){i(this,t)}return o(t,null,[{key:"getDatasource",value:function(e,r){return e===t.Type.MONGODB?new c.default(r):e===t.Type.SOLR?new f.default(r):e===t.Type.MEMORY?new u.default:null}}]),t}();h.Type={},h.Type.MEMORY=Symbol("memory"),h.Type.MONGODB=Symbol("mongodb"),h.Type.SOLR=Symbol("solr"),e.default=h},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(50),a=function(t){return t&&t.__esModule?t:{default:t}}(o),u=r(2),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),c=function(){function t(e,r,i){return n(this,t),e||(e=s.Logger.Level.INFO),this._logger=s.Logger.LoggerFactory.getLogger(s.Logger.Type.COLOR_CONSOLE,e),r?this.setPrefix(r):this._prefix="SERVICE",this._path=i||"/var/log/service.log",this}return i(t,[{key:"setPrefix",value:function(t){this._prefix=t}},{key:"log",value:function(t){this._logger.log(this._prefix+":"+t),a.default.appendFile(this._path,this._prefix+":"+t,function(t){t&&console.log("Error writing to log")})}},{key:"info",value:function(t){this._logger.info(this._prefix+":"+t),a.default.appendFile(this._path,this._prefix+":"+t,function(t){t&&console.log("Error writing to log")})}},{key:"debug",value:function(t){this._logger.debug(this._prefix+":"+t),a.default.appendFile(this._path,this._prefix+":"+t,function(t){t&&console.log("Error writing to log")})}},{key:"warn",value:function(t){this._logger.warn(this._prefix+":"+t),a.default.appendFile(this._path,this._prefix+":"+t,function(t){t&&console.log("Error writing to log")})}},{key:"error",value:function(t){this._logger.error(this._prefix+":"+t),a.default.appendFile(this._path,this._prefix+":"+t,function(t){t&&console.log("Error writing to log")})}}]),t}();e.default=c},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(2),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),c=function(t){function e(t,r){n(this,e);for(var o=arguments.length,a=Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,a));return s.id="",s.url="",s.query={},s.collection="collection",s.datasource=null,s}return o(e,t),a(e,[{key:"initialize",value:function(t){t&&(t.collection&&(this.collection=t.collection),t.datasource&&(this.datasource=t.datasource),t.url&&(this.url=this.datasource.url),t.id&&(this.id=t.id),t.query&&(this.query=t.query)),this.unset("datasource"),this.unset("url"),this.unset("query"),this.unset("collection"),this.unset("id"),this.datasource&&this.datasource.setCollection(this.collection),this.init(t)}},{key:"init",value:function(t){}},{key:"sync",value:function(t,e){if(this.datasource){var r=this;try{var n={},i=void 0;if("create"===t)n=r.attributes,this.datasource.insert(n,function(){r.reset(n),e&&e.success&&"function"==typeof e.success&&e.success()});else if("update"===t)n=r.attributes,i=e&&e.query?e.query:this.query,this.datasource.update(i,n,function(){e&&e.success&&"function"==typeof e.success&&e.success()});else if("delete"===t)i=e&&e.query?e.query:this.query,this.datasource.remove(i,function(){r.reset(),e&&e.success&&"function"==typeof e.success&&e.success()});else{i=e&&e.query?e.query:r.query;var o=i;if(s.isFunction(i)){var a=i();o=a}this.datasource.query(o,function(t){if(null===t)throw new Error("No Data Returned!");Array.isArray(t)&&t.length>0?r.reset(t[0]):Array.isArray(t)&&0===t.length?r.reset():r.reset(t),e&&e.success&&"function"==typeof e.success&&e.success(t)})}}catch(t){e&&e.error&&"function"==typeof e.error&&e.error(t)}}return{}}},{key:"fetch",value:function(t){this.sync("read",t)}},{key:"save",value:function(t){this.sync("create",t)}},{key:"update",value:function(t){this.sync("update",t)}},{key:"destroy",value:function(t){this.sync("delete",t)}}]),e}(s.AbstractModel);e.default=c},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(2),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(s),l=r(11),f=n(l),h=r(26),d=n(h),p=function(t){function e(t,r){i(this,e);for(var n=arguments.length,a=Array(n>2?n-2:0),u=2;u<n;u++)a[u-2]=arguments[u];var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,a));return s.secure=!1,s.id="",s.url="",s}return a(e,t),u(e,[{key:"initialize",value:function(t){t&&t.url&&(this.url=t.url),this.unset("url"),this.init(t)}},{key:"init",value:function(t){}},{key:"fetch",value:function(t){this.sync("read",t)}},{key:"sync",value:function(t,e){if(this.url){var r=this,n=void 0,i=void 0;e&&e.success&&"function"==typeof e.success&&(n=e.success),e&&e.error&&"function"==typeof e.error&&(i=e.error);try{var o="function"==typeof this.url?this.url():this.url;if("create"===t){r.attributes;var a={path:o,method:"POST",headers:{"Content-Type":"application/json"}},u=this.secure?d.default:f.default,s=u.request(a,function(t){t.setEncoding("utf8"),t.on("data",function(t){}),t.once("end",function(){n&&n(s.statusCode)})});s.on("error",function(t){i&&i(500,t)}),s.write(r.toJSON()),s.end()}else if("update"===t){r.attributes;var c={path:o,method:"PUT",headers:{"Content-Type":"application/json"}},l=this.secure?d.default:f.default,h=l.request(c,function(t){t.setEncoding("utf8"),t.on("data",function(t){}),t.once("end",function(){n&&n(h.statusCode,h.statusMessage)})});h.on("error",function(t){i&&i(h.statusCode,t)}),h.write(r.toJSON()),h.end()}else if("delete"===t){var p={path:o,method:"DELETE"},y=this.secure?d.default:f.default,v=y.request(p,function(t){t.setEncoding("utf8"),t.once("end",function(){n&&n(v.statusCode,v.statusMessage)})});v.on("error",function(t){i&&i(500,t)}),v.end()}else{var g=this.secure?d.default:f.default;g.get(o,function(t){var e="";t.on("data",function(t){e+=t}),t.statusCode>=200&&t.statusCode<300?t.once("end",function(){var o={};try{o=JSON.parse(e),r.set(o),n&&n(t.statusCode,t.statusMessage)}catch(e){i&&i(t.statusCode,e)}}):i&&i(t.statusCode,t.statusMessage)}).once("error",function(t,e){i&&i(500,t)})}}catch(t){i&&i(500,t)}}return{}}}]),e}(c.AbstractModel);e.default=p},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(30),o=n(i),a=r(8),u=n(a),s=r(5),c=n(s),l=r(12),f=n(l),h=r(13),d=n(h),p=r(14),y=n(p),v=r(29),g=n(v),_=r(28),b=n(_),m=r(27),w=n(m),O=r(31),E=n(O),k=r(32),S=n(k),j={};j.VERSION="2.0.0-alpha.0",j.Logger=o.default,j.DataSource=u.default,j.DATASOURCE_STYLE=c.default,j.MemoryDataSource=f.default,j.MongoDataSource=d.default,j.SOLRDataSource=y.default,j.DataSourceFactory=g.default,j.ResourceCollection=b.default,j.EntityCollection=w.default,j.Entity=E.default,j.Resource=S.default,e.default=j},function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-n(t)}function o(t){var e,r,i,o,a,u=t.length;o=n(t),a=new f(3*u/4-o),r=o>0?u-4:u;var s=0;for(e=0;e<r;e+=4)i=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;return 2===o?(i=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,a[s++]=255&i):1===o&&(i=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i),a}function a(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function u(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(n));return i.join("")}function s(t){for(var e,r=t.length,n=r%3,i="",o=[],a=0,s=r-n;a<s;a+=16383)o.push(u(t,a,a+16383>s?s:a+16383));return 1===n?(e=t[r-1],i+=c[e>>2],i+=c[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=c[e>>10],i+=c[e>>4&63],i+=c[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=s;for(var c=[],l=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)c[d]=h[d],l[h.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e){e.read=function(t,e,r,n,i){var o,a,u=8*i-n-1,s=(1<<u)-1,c=s>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=u;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,u,s,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+f>=1?h/s:h*Math.pow(2,1-f),e*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,i),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&u,d+=p,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*y}},function(t,e,r){(function(t,n){var i;!function(o){function a(t){throw new RangeError(x[t])}function u(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function s(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(T,"."),n+u(t.split("."),e).join(".")}function c(t){for(var e,r,n=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function l(t){return u(t,function(t){var e="";return t>65535&&(t-=65536,e+=U(t>>>10&1023|55296),t=56320|1023&t),e+=U(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,r){var n=0;for(t=r?I(t/S):t>>1,t+=I(t/e);t>C*E>>1;n+=w)t=I(t/C);return I(n+(C+1)*t/(t+k))}function p(t){var e,r,n,i,o,u,s,c,h,p,y=[],v=t.length,g=0,_=R,b=j;for(r=t.lastIndexOf(A),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&a("not-basic"),y.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=g,u=1,s=w;i>=v&&a("invalid-input"),c=f(t.charCodeAt(i++)),(c>=w||c>I((m-g)/u))&&a("overflow"),g+=c*u,h=s<=b?O:s>=b+E?E:s-b,!(c<h);s+=w)p=w-h,u>I(m/p)&&a("overflow"),u*=p;e=y.length+1,b=d(g-o,e,0==o),I(g/e)>m-_&&a("overflow"),_+=I(g/e),g%=e,y.splice(g++,0,_)}return l(y)}function y(t){var e,r,n,i,o,u,s,l,f,p,y,v,g,_,b,k=[];for(t=c(t),v=t.length,e=R,r=0,o=j,u=0;u<v;++u)(y=t[u])<128&&k.push(U(y));for(n=i=k.length,i&&k.push(A);n<v;){for(s=m,u=0;u<v;++u)(y=t[u])>=e&&y<s&&(s=y);for(g=n+1,s-e>I((m-r)/g)&&a("overflow"),r+=(s-e)*g,e=s,u=0;u<v;++u)if(y=t[u],y<e&&++r>m&&a("overflow"),y==e){for(l=r,f=w;p=f<=o?O:f>=o+E?E:f-o,!(l<p);f+=w)b=l-p,_=w-p,k.push(U(h(p+b%_,0))),l=I(b/_);k.push(U(h(l,0))),o=d(r,g,n==i),r=0,++n}++r,++e}return k.join("")}function v(t){return s(t,function(t){return P.test(t)?p(t.slice(4).toLowerCase()):t})}function g(t){return s(t,function(t){return M.test(t)?"xn--"+y(t):t})}var _=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof n&&n);var b,m=2147483647,w=36,O=1,E=26,k=38,S=700,j=72,R=128,A="-",P=/^xn--/,M=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=w-O,I=Math.floor,U=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:c,encode:l},decode:p,encode:y,toASCII:g,toUnicode:v},void 0!==(i=function(){return b}.call(e,r,e,t))&&(t.exports=i)}()}).call(e,r(49)(t),r(0))},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var u=/\+/g;t=t.split(e);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=t.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var f,h,d,p,y=t[l].replace(u,"%20"),v=y.indexOf(r);v>=0?(f=y.substr(0,v),h=y.substr(v+1)):(f=y,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),n(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,u){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(a(t),function(a){var u=encodeURIComponent(i(a))+r;return o(t[a])?n(t[a],function(t){return u+encodeURIComponent(i(t))}).join(e):u+encodeURIComponent(i(t[a]))}).join(e):u?encodeURIComponent(i(u))+r+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";e.decode=e.parse=r(38),e.encode=e.stringify=r(39)},function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}t.exports=n;var i=r(18),o=r(7);o.inherits=r(1),o.inherits(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,r){t.copy(e,r)}var o=r(10).Buffer;t.exports=function(){function t(){n(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),r=this.head,n=0;r;)i(r.data,e,n),n+=r.data.length,r=r.next;return e},t}()},function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return c[s]=n,u(s),s++}function i(t){delete c[t]}function o(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function a(t){if(l)setTimeout(a,0,t);else{var e=c[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var u,s=1,c={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){u=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&a(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),u=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},u=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;u=function(e){var r=f.createElement("script");r.onreadystatechange=function(){a(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():function(){u=function(t){setTimeout(a,0,t)}}(),h.setImmediate=n,h.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(0),r(3))},function(t,e,r){(function(e,n,i){function o(t,e){return u.fetch&&e?"fetch":u.mozchunkedarraybuffer?"moz-chunked-arraybuffer":u.msstream?"ms-stream":u.arraybuffer&&t?"arraybuffer":u.vbArray&&t?"text:vbarray":"text"}function a(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}var u=r(23),s=r(1),c=r(45),l=r(22),f=r(46),h=c.IncomingMessage,d=c.readyStates,p=t.exports=function(t){var r=this;l.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var n,i=!0;if("disable-fetch"===t.mode||"timeout"in t)i=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!u.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=o(n,i),r.on("finish",function(){r._onFinish()})};s(p,l.Writable),p.prototype.setHeader=function(t,e){var r=this,n=t.toLowerCase();-1===y.indexOf(n)&&(r._headers[n]={name:t,value:e})},p.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},p.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},p.prototype._onFinish=function(){var t=this;if(!t._destroyed){var r=t._opts,o=t._headers,a=null;"GET"!==r.method&&"HEAD"!==r.method&&(a=u.blobConstructor?new n.Blob(t._body.map(function(t){return f(t)}),{type:(o["content-type"]||{}).value||""}):e.concat(t._body).toString());var s=[];if(Object.keys(o).forEach(function(t){var e=o[t].name,r=o[t].value;Array.isArray(r)?r.forEach(function(t){s.push([e,t])}):s.push([e,r])}),"fetch"===t._mode)n.fetch(t._opts.url,{method:t._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then(function(e){t._fetchResponse=e,t._connect()},function(e){t.emit("error",e)});else{var c=t._xhr=new n.XMLHttpRequest;try{c.open(t._opts.method,t._opts.url,!0)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}"responseType"in c&&(c.responseType=t._mode.split(":")[0]),"withCredentials"in c&&(c.withCredentials=!!r.withCredentials),"text"===t._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in r&&(c.timeout=r.timeout,c.ontimeout=function(){t.emit("timeout")}),s.forEach(function(t){c.setRequestHeader(t[0],t[1])}),t._response=null,c.onreadystatechange=function(){switch(c.readyState){case d.LOADING:case d.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(c.onprogress=function(){t._onXHRProgress()}),c.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{c.send(a)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}}}},p.prototype._onXHRProgress=function(){var t=this;a(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},p.prototype._connect=function(){var t=this;t._destroyed||(t._response=new h(t._xhr,t._fetchResponse,t._mode),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},p.prototype._write=function(t,e,r){this._body.push(t),r()},p.prototype.abort=p.prototype.destroy=function(){var t=this;t._destroyed=!0,t._response&&(t._response._destroyed=!0),t._xhr&&t._xhr.abort()},p.prototype.end=function(t,e,r){var n=this;"function"==typeof t&&(r=t,t=void 0),l.Writable.prototype.end.call(n,t,e,r)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var y=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(e,r(6).Buffer,r(0),r(3))},function(t,e,r){(function(t,n,i){var o=r(23),a=r(1),u=r(22),s=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=e.IncomingMessage=function(e,r,i){function a(){c.read().then(function(t){if(!s._destroyed){if(t.done)return void s.push(null);s.push(new n(t.value)),a()}}).catch(function(t){s.emit("error",t)})}var s=this;if(u.Readable.call(s),s._mode=i,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on("end",function(){t.nextTick(function(){s.emit("close")})}),"fetch"===i){s._fetchResponse=r,s.url=r.url,s.statusCode=r.status,s.statusMessage=r.statusText,r.headers.forEach(function(t,e){s.headers[e.toLowerCase()]=t,s.rawHeaders.push(e,t)});var c=r.body.getReader();a()}else{s._xhr=e,s._pos=0,s.url=e.responseURL,s.statusCode=e.status,s.statusMessage=e.statusText;if(e.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===s.headers[r]&&(s.headers[r]=[]),s.headers[r].push(e[2])):void 0!==s.headers[r]?s.headers[r]+=", "+e[2]:s.headers[r]=e[2],s.rawHeaders.push(e[1],e[2])}}),s._charset="x-user-defined",!o.overrideMimeType){var l=s.rawHeaders["mime-type"];if(l){var f=l.match(/;\s*charset=([^;])(;|$)/);f&&(s._charset=f[1].toLowerCase())}s._charset||(s._charset="utf-8")}}};a(c,u.Readable),c.prototype._read=function(){},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,r=null;switch(t._mode){case"text:vbarray":if(e.readyState!==s.DONE)break;try{r=new i.VBArray(e.responseBody).toArray()}catch(t){}if(null!==r){t.push(new n(r));break}case"text":try{r=e.responseText}catch(e){t._mode="text:vbarray";break}if(r.length>t._pos){var o=r.substr(t._pos);if("x-user-defined"===t._charset){for(var a=new n(o.length),u=0;u<o.length;u++)a[u]=255&o.charCodeAt(u);t.push(a)}else t.push(o,t._charset);t._pos=r.length}break;case"arraybuffer":if(e.readyState!==s.DONE||!e.response)break;r=e.response,t.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=e.response,e.readyState!==s.LOADING||!r)break;t.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=e.response,e.readyState!==s.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(new n(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(r)}t._xhr.readyState===s.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(e,r(3),r(6).Buffer,r(0))},function(t,e,r){var n=r(6).Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(n.isBuffer(t)){for(var e=new Uint8Array(t.length),r=t.length,i=0;i<r;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){(function(e){function r(t,e){function r(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(n("noDeprecation"))return t;var i=!1;return r}function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=r}).call(e,r(0))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){},function(t,e,r){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(43),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){function r(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t}t.exports=r;var n=Object.prototype.hasOwnProperty},function(t,e){}])});
//# sourceMappingURL=service-next.js.map